(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const u of s.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&n(u)}).observe(document,{childList:!0,subtree:!0});function r(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function n(i){if(i.ep)return;i.ep=!0;const s=r(i);fetch(i.href,s)}})();const Ti=(t,e)=>t===e,Qe=Symbol("solid-proxy"),Li=Symbol("solid-track"),Ae={equals:Ti};let An=Tn;const At=1,ze=2,zn={owned:null,cleanups:null,context:null,owner:null};var O=null;let Ye=null,Pi=null,j=null,U=null,dt=null,Le=0;function ne(t,e){const r=j,n=O,i=t.length===0,s=e===void 0?n:e,u=i?zn:{owned:null,cleanups:null,context:s?s.context:null,owner:s},o=i?t:()=>t(()=>lt(()=>Pe(u)));O=u,j=null;try{return le(o,!0)}finally{j=r,O=n}}function k(t,e){e=e?Object.assign({},Ae,e):Ae;const r={value:t,observers:null,observerSlots:null,comparator:e.equals||void 0},n=i=>(typeof i=="function"&&(i=i(r.value)),Rn(r,i));return[qn.bind(r),n]}function x(t,e,r){const n=lr(t,e,!1,At);he(n)}function Mn(t,e,r){An=Di;const n=lr(t,e,!1,At),i=Fr&&Cn(Fr);i&&(n.suspense=i),(!r||!r.render)&&(n.user=!0),dt?dt.push(n):he(n)}function $t(t,e,r){r=r?Object.assign({},Ae,r):Ae;const n=lr(t,e,!0,0);return n.observers=null,n.observerSlots=null,n.comparator=r.equals||void 0,he(n),qn.bind(n)}function lt(t){if(j===null)return t();const e=j;j=null;try{return t()}finally{j=e}}function Me(t){return O===null||(O.cleanups===null?O.cleanups=[t]:O.cleanups.push(t)),t}function In(){return O}function ji(t,e){const r=Symbol("context");return{id:r,Provider:Ui(r),defaultValue:t}}function Cn(t){return O&&O.context&&O.context[t.id]!==void 0?O.context[t.id]:t.defaultValue}function Ni(t){const e=$t(t),r=$t(()=>tr(e()));return r.toArray=()=>{const n=r();return Array.isArray(n)?n:n!=null?[n]:[]},r}let Fr;function qn(){if(this.sources&&this.state)if(this.state===At)he(this);else{const t=U;U=null,le(()=>Ce(this),!1),U=t}if(j){const t=this.observers?this.observers.length:0;j.sources?(j.sources.push(this),j.sourceSlots.push(t)):(j.sources=[this],j.sourceSlots=[t]),this.observers?(this.observers.push(j),this.observerSlots.push(j.sources.length-1)):(this.observers=[j],this.observerSlots=[j.sources.length-1])}return this.value}function Rn(t,e,r){let n=t.value;return(!t.comparator||!t.comparator(n,e))&&(t.value=e,t.observers&&t.observers.length&&le(()=>{for(let i=0;i<t.observers.length;i+=1){const s=t.observers[i],u=Ye&&Ye.running;u&&Ye.disposed.has(s),(u?!s.tState:!s.state)&&(s.pure?U.push(s):dt.push(s),s.observers&&Ln(s)),u||(s.state=At)}if(U.length>1e6)throw U=[],new Error},!1)),e}function he(t){if(!t.fn)return;Pe(t);const e=Le;ki(t,t.value,e)}function ki(t,e,r){let n;const i=O,s=j;j=O=t;try{n=t.fn(e)}catch(u){return t.pure&&(t.state=At,t.owned&&t.owned.forEach(Pe),t.owned=null),t.updatedAt=r+1,Pn(u)}finally{j=s,O=i}(!t.updatedAt||t.updatedAt<=r)&&(t.updatedAt!=null&&"observers"in t?Rn(t,n):t.value=n,t.updatedAt=r)}function lr(t,e,r,n=At,i){const s={fn:t,state:n,updatedAt:null,owned:null,sources:null,sourceSlots:null,cleanups:null,value:e,owner:O,context:O?O.context:null,pure:r};return O===null||O!==zn&&(O.owned?O.owned.push(s):O.owned=[s]),s}function Ie(t){if(t.state===0)return;if(t.state===ze)return Ce(t);if(t.suspense&&lt(t.suspense.inFallback))return t.suspense.effects.push(t);const e=[t];for(;(t=t.owner)&&(!t.updatedAt||t.updatedAt<Le);)t.state&&e.push(t);for(let r=e.length-1;r>=0;r--)if(t=e[r],t.state===At)he(t);else if(t.state===ze){const n=U;U=null,le(()=>Ce(t,e[0]),!1),U=n}}function le(t,e){if(U)return t();let r=!1;e||(U=[]),dt?r=!0:dt=[],Le++;try{const n=t();return xi(r),n}catch(n){r||(dt=null),U=null,Pn(n)}}function xi(t){if(U&&(Tn(U),U=null),t)return;const e=dt;dt=null,e.length&&le(()=>An(e),!1)}function Tn(t){for(let e=0;e<t.length;e++)Ie(t[e])}function Di(t){let e,r=0;for(e=0;e<t.length;e++){const n=t[e];n.user?t[r++]=n:Ie(n)}for(e=0;e<r;e++)Ie(t[e])}function Ce(t,e){t.state=0;for(let r=0;r<t.sources.length;r+=1){const n=t.sources[r];if(n.sources){const i=n.state;i===At?n!==e&&(!n.updatedAt||n.updatedAt<Le)&&Ie(n):i===ze&&Ce(n,e)}}}function Ln(t){for(let e=0;e<t.observers.length;e+=1){const r=t.observers[e];r.state||(r.state=ze,r.pure?U.push(r):dt.push(r),r.observers&&Ln(r))}}function Pe(t){let e;if(t.sources)for(;t.sources.length;){const r=t.sources.pop(),n=t.sourceSlots.pop(),i=r.observers;if(i&&i.length){const s=i.pop(),u=r.observerSlots.pop();n<i.length&&(s.sourceSlots[u]=n,i[n]=s,r.observerSlots[n]=u)}}if(t.owned){for(e=t.owned.length-1;e>=0;e--)Pe(t.owned[e]);t.owned=null}if(t.cleanups){for(e=t.cleanups.length-1;e>=0;e--)t.cleanups[e]();t.cleanups=null}t.state=0}function Bi(t){return t instanceof Error?t:new Error(typeof t=="string"?t:"Unknown error",{cause:t})}function Pn(t,e=O){throw Bi(t)}function tr(t){if(typeof t=="function"&&!t.length)return tr(t());if(Array.isArray(t)){const e=[];for(let r=0;r<t.length;r++){const n=tr(t[r]);Array.isArray(n)?e.push.apply(e,n):e.push(n)}return e}return t}function Ui(t,e){return function(n){let i;return x(()=>i=lt(()=>(O.context={...O.context,[t]:n.value},Ni(()=>n.children))),void 0),i}}const Ki=Symbol("fallback");function Wr(t){for(let e=0;e<t.length;e++)t[e]()}function Fi(t,e,r={}){let n=[],i=[],s=[],u=0,o=e.length>1?[]:null;return Me(()=>Wr(s)),()=>{let a=t()||[],f,c;return a[Li],lt(()=>{let l=a.length,p,d,_,g,m,v,z,T,b;if(l===0)u!==0&&(Wr(s),s=[],n=[],i=[],u=0,o&&(o=[])),r.fallback&&(n=[Ki],i[0]=ne(F=>(s[0]=F,r.fallback())),u=1);else if(u===0){for(i=new Array(l),c=0;c<l;c++)n[c]=a[c],i[c]=ne(h);u=l}else{for(_=new Array(l),g=new Array(l),o&&(m=new Array(l)),v=0,z=Math.min(u,l);v<z&&n[v]===a[v];v++);for(z=u-1,T=l-1;z>=v&&T>=v&&n[z]===a[T];z--,T--)_[T]=i[z],g[T]=s[z],o&&(m[T]=o[z]);for(p=new Map,d=new Array(T+1),c=T;c>=v;c--)b=a[c],f=p.get(b),d[c]=f===void 0?-1:f,p.set(b,c);for(f=v;f<=z;f++)b=n[f],c=p.get(b),c!==void 0&&c!==-1?(_[c]=i[f],g[c]=s[f],o&&(m[c]=o[f]),c=d[c],p.set(b,c)):s[f]();for(c=v;c<l;c++)c in _?(i[c]=_[c],s[c]=g[c],o&&(o[c]=m[c],o[c](c))):i[c]=ne(h);i=i.slice(0,u=l),n=a.slice(0)}return i});function h(l){if(s[c]=l,o){const[p,d]=k(c);return o[c]=d,e(a[c],p)}return e(a[c])}}}let Wi=!1;function R(t,e){return lt(()=>t(e||{}))}function we(){return!0}const Yr={get(t,e,r){return e===Qe?r:t.get(e)},has(t,e){return e===Qe?!0:t.has(e)},set:we,deleteProperty:we,getOwnPropertyDescriptor(t,e){return{configurable:!0,enumerable:!0,get(){return t.get(e)},set:we,deleteProperty:we}},ownKeys(t){return t.keys()}};function Yi(t,...e){if(Qe in t){const i=new Set(e.length>1?e.flat():e[0]),s=e.map(u=>new Proxy({get(o){return u.includes(o)?t[o]:void 0},has(o){return u.includes(o)&&o in t},keys(){return u.filter(o=>o in t)}},Yr));return s.push(new Proxy({get(u){return i.has(u)?void 0:t[u]},has(u){return i.has(u)?!1:u in t},keys(){return Object.keys(t).filter(u=>!i.has(u))}},Yr)),s}const r={},n=e.map(()=>({}));for(const i of Object.getOwnPropertyNames(t)){const s=Object.getOwnPropertyDescriptor(t,i),u=!s.get&&!s.set&&s.enumerable&&s.writable&&s.configurable;let o=!1,a=0;for(const f of e)f.includes(i)&&(o=!0,u?n[a][i]=s.value:Object.defineProperty(n[a],i,s)),++a;o||(u?r[i]=s.value:Object.defineProperty(r,i,s))}return[...n,r]}const Hi=t=>`Stale read from <${t}>.`;function jt(t){const e="fallback"in t&&{fallback:()=>t.fallback};return $t(Fi(()=>t.each,t.children,e||void 0))}function ht(t){const e=t.keyed,r=$t(()=>t.when,void 0,{equals:(n,i)=>e?n===i:!n==!i});return $t(()=>{const n=r();if(n){const i=t.children;return typeof i=="function"&&i.length>0?lt(()=>i(e?n:()=>{if(!lt(r))throw Hi("Show");return t.when})):i}return t.fallback},void 0,void 0)}const Gi=void 0,Ji=["allowfullscreen","async","autofocus","autoplay","checked","controls","default","disabled","formnovalidate","hidden","indeterminate","inert","ismap","loop","multiple","muted","nomodule","novalidate","open","playsinline","readonly","required","reversed","seamless","selected"],Vi=new Set(["className","value","readOnly","formNoValidate","isMap","noModule","playsInline",...Ji]),Xi=new Set(["innerHTML","textContent","innerText","children"]),Zi=Object.assign(Object.create(null),{className:"class",htmlFor:"for"}),Qi=Object.assign(Object.create(null),{class:"className",formnovalidate:{$:"formNoValidate",BUTTON:1,INPUT:1},ismap:{$:"isMap",IMG:1},nomodule:{$:"noModule",SCRIPT:1},playsinline:{$:"playsInline",VIDEO:1},readonly:{$:"readOnly",INPUT:1,TEXTAREA:1}});function ts(t,e){const r=Qi[t];return typeof r=="object"?r[e]?r.$:void 0:r}const es=new Set(["beforeinput","click","dblclick","contextmenu","focusin","focusout","input","keydown","keyup","mousedown","mousemove","mouseout","mouseover","mouseup","pointerdown","pointermove","pointerout","pointerover","pointerup","touchend","touchmove","touchstart"]),rs=new Set(["altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignObject","g","glyph","glyphRef","hkern","image","line","linearGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","set","stop","svg","switch","symbol","text","textPath","tref","tspan","use","view","vkern"]),ns={xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace"};function is(t,e,r){let n=r.length,i=e.length,s=n,u=0,o=0,a=e[i-1].nextSibling,f=null;for(;u<i||o<s;){if(e[u]===r[o]){u++,o++;continue}for(;e[i-1]===r[s-1];)i--,s--;if(i===u){const c=s<n?o?r[o-1].nextSibling:r[s-o]:a;for(;o<s;)t.insertBefore(r[o++],c)}else if(s===o)for(;u<i;)(!f||!f.has(e[u]))&&e[u].remove(),u++;else if(e[u]===r[s-1]&&r[o]===e[i-1]){const c=e[--i].nextSibling;t.insertBefore(r[o++],e[u++].nextSibling),t.insertBefore(r[--s],c),e[i]=r[s]}else{if(!f){f=new Map;let h=o;for(;h<s;)f.set(r[h],h++)}const c=f.get(e[u]);if(c!=null)if(o<c&&c<s){let h=u,l=1,p;for(;++h<i&&h<s&&!((p=f.get(e[h]))==null||p!==c+l);)l++;if(l>c-o){const d=e[u];for(;o<c;)t.insertBefore(r[o++],d)}else t.replaceChild(r[o++],e[u++])}else u++;else e[u++].remove()}}}const Hr="_$DX_DELEGATE";function ss(t,e,r,n={}){let i;return ne(s=>{i=s,e===document?t():w(e,t(),e.firstChild?null:void 0,r)},n.owner),()=>{i(),e.textContent=""}}function y(t,e,r){let n;const i=()=>{const u=document.createElement("template");return u.innerHTML=t,r?u.content.firstChild.firstChild:u.content.firstChild},s=e?()=>lt(()=>document.importNode(n||(n=i()),!0)):()=>(n||(n=i())).cloneNode(!0);return s.cloneNode=s,s}function Wt(t,e=window.document){const r=e[Hr]||(e[Hr]=new Set);for(let n=0,i=t.length;n<i;n++){const s=t[n];r.has(s)||(r.add(s),e.addEventListener(s,ls))}}function Pt(t,e,r){r==null?t.removeAttribute(e):t.setAttribute(e,r)}function us(t,e,r,n){n==null?t.removeAttributeNS(e,r):t.setAttributeNS(e,r,n)}function qe(t,e){e==null?t.removeAttribute("class"):t.className=e}function os(t,e,r,n){if(n)Array.isArray(r)?(t[`$$${e}`]=r[0],t[`$$${e}Data`]=r[1]):t[`$$${e}`]=r;else if(Array.isArray(r)){const i=r[0];t.addEventListener(e,r[0]=s=>i.call(t,r[1],s))}else t.addEventListener(e,r)}function as(t,e,r={}){const n=Object.keys(e||{}),i=Object.keys(r);let s,u;for(s=0,u=i.length;s<u;s++){const o=i[s];!o||o==="undefined"||e[o]||(Gr(t,o,!1),delete r[o])}for(s=0,u=n.length;s<u;s++){const o=n[s],a=!!e[o];!o||o==="undefined"||r[o]===a||!a||(Gr(t,o,!0),r[o]=a)}return r}function jn(t,e,r){if(!e)return r?Pt(t,"style"):e;const n=t.style;if(typeof e=="string")return n.cssText=e;typeof r=="string"&&(n.cssText=r=void 0),r||(r={}),e||(e={});let i,s;for(s in r)e[s]==null&&n.removeProperty(s),delete r[s];for(s in e)i=e[s],i!==r[s]&&(n.setProperty(s,i),r[s]=i);return r}function fs(t,e={},r,n){const i={};return n||x(()=>i.children=Nt(t,e.children,i.children)),x(()=>e.ref&&e.ref(t)),x(()=>cs(t,e,r,!0,i,!0)),i}function Nn(t,e,r){return lt(()=>t(e,r))}function w(t,e,r,n){if(r!==void 0&&!n&&(n=[]),typeof e!="function")return Nt(t,e,n,r);x(i=>Nt(t,e(),i,r),n)}function cs(t,e,r,n,i={},s=!1){e||(e={});for(const u in i)if(!(u in e)){if(u==="children")continue;i[u]=Jr(t,u,null,i[u],r,s)}for(const u in e){if(u==="children"){n||Nt(t,e.children);continue}const o=e[u];i[u]=Jr(t,u,o,i[u],r,s)}}function hs(t){return t.toLowerCase().replace(/-([a-z])/g,(e,r)=>r.toUpperCase())}function Gr(t,e,r){const n=e.trim().split(/\s+/);for(let i=0,s=n.length;i<s;i++)t.classList.toggle(n[i],r)}function Jr(t,e,r,n,i,s){let u,o,a,f,c;if(e==="style")return jn(t,r,n);if(e==="classList")return as(t,r,n);if(r===n)return n;if(e==="ref")s||r(t);else if(e.slice(0,3)==="on:"){const h=e.slice(3);n&&t.removeEventListener(h,n),r&&t.addEventListener(h,r)}else if(e.slice(0,10)==="oncapture:"){const h=e.slice(10);n&&t.removeEventListener(h,n,!0),r&&t.addEventListener(h,r,!0)}else if(e.slice(0,2)==="on"){const h=e.slice(2).toLowerCase(),l=es.has(h);if(!l&&n){const p=Array.isArray(n)?n[0]:n;t.removeEventListener(h,p)}(l||r)&&(os(t,h,r,l),l&&Wt([h]))}else if(e.slice(0,5)==="attr:")Pt(t,e.slice(5),r);else if((c=e.slice(0,5)==="prop:")||(a=Xi.has(e))||!i&&((f=ts(e,t.tagName))||(o=Vi.has(e)))||(u=t.nodeName.includes("-")))c&&(e=e.slice(5),o=!0),e==="class"||e==="className"?qe(t,r):u&&!o&&!a?t[hs(e)]=r:t[f||e]=r;else{const h=i&&e.indexOf(":")>-1&&ns[e.split(":")[0]];h?us(t,h,e,r):Pt(t,Zi[e]||e,r)}return r}function ls(t){const e=`$$${t.type}`;let r=t.composedPath&&t.composedPath()[0]||t.target;for(t.target!==r&&Object.defineProperty(t,"target",{configurable:!0,value:r}),Object.defineProperty(t,"currentTarget",{configurable:!0,get(){return r||document}});r;){const n=r[e];if(n&&!r.disabled){const i=r[`${e}Data`];if(i!==void 0?n.call(r,i,t):n.call(r,t),t.cancelBubble)return}r=r._$host||r.parentNode||r.host}}function Nt(t,e,r,n,i){for(;typeof r=="function";)r=r();if(e===r)return r;const s=typeof e,u=n!==void 0;if(t=u&&r[0]&&r[0].parentNode||t,s==="string"||s==="number")if(s==="number"&&(e=e.toString()),u){let o=r[0];o&&o.nodeType===3?o.data!==e&&(o.data=e):o=document.createTextNode(e),r=Lt(t,r,n,o)}else r!==""&&typeof r=="string"?r=t.firstChild.data=e:r=t.textContent=e;else if(e==null||s==="boolean")r=Lt(t,r,n);else{if(s==="function")return x(()=>{let o=e();for(;typeof o=="function";)o=o();r=Nt(t,o,r,n)}),()=>r;if(Array.isArray(e)){const o=[],a=r&&Array.isArray(r);if(er(o,e,r,i))return x(()=>r=Nt(t,o,r,n,!0)),()=>r;if(o.length===0){if(r=Lt(t,r,n),u)return r}else a?r.length===0?Vr(t,o,n):is(t,r,o):(r&&Lt(t),Vr(t,o));r=o}else if(e.nodeType){if(Array.isArray(r)){if(u)return r=Lt(t,r,n,e);Lt(t,r,null,e)}else r==null||r===""||!t.firstChild?t.appendChild(e):t.replaceChild(e,t.firstChild);r=e}}return r}function er(t,e,r,n){let i=!1;for(let s=0,u=e.length;s<u;s++){let o=e[s],a=r&&r[s],f;if(!(o==null||o===!0||o===!1))if((f=typeof o)=="object"&&o.nodeType)t.push(o);else if(Array.isArray(o))i=er(t,o,a)||i;else if(f==="function")if(n){for(;typeof o=="function";)o=o();i=er(t,Array.isArray(o)?o:[o],Array.isArray(a)?a:[a])||i}else t.push(o),i=!0;else{const c=String(o);a&&a.nodeType===3&&a.data===c?t.push(a):t.push(document.createTextNode(c))}}return i}function Vr(t,e,r=null){for(let n=0,i=e.length;n<i;n++)t.insertBefore(e[n],r)}function Lt(t,e,r,n){if(r===void 0)return t.textContent="";const i=n||document.createTextNode("");if(e.length){let s=!1;for(let u=e.length-1;u>=0;u--){const o=e[u];if(i!==o){const a=o.parentNode===t;!s&&!u?a?t.replaceChild(i,o):t.insertBefore(i,r):a&&o.remove()}else s=!0}}else t.insertBefore(i,r);return[i]}const _s="http://www.w3.org/2000/svg";function ps(t,e=!1){return e?document.createElementNS(_s,t):document.createElement(t)}function ds(t){const[e,r]=Yi(t,["component"]),n=$t(()=>e.component);return $t(()=>{const i=n();switch(typeof i){case"function":return lt(()=>i(r));case"string":const s=rs.has(i),u=ps(i,s);return fs(u,r,s),u}})}var vs=y("<input type=range>");const Xr=t=>{let e;function r(n){t.bind(parseInt(n.target.value))}return(()=>{var n=vs(),i=e;return typeof i=="function"?Nn(i,n):e=n,n.$$input=r,x(s=>{var u=t.id,o=t.min,a=t.max,f=t.disabled;return u!==s.e&&Pt(n,"id",s.e=u),o!==s.t&&Pt(n,"min",s.t=o),a!==s.a&&Pt(n,"max",s.a=a),f!==s.o&&(n.disabled=s.o=f),s},{e:void 0,t:void 0,a:void 0,o:void 0}),x(()=>n.value=t.value),n})()};Wt(["input"]);var _e="delete",M=5,et=1<<M,W=et-1,S={};function rr(){return{value:!1}}function rt(t){t&&(t.value=!0)}function _r(){}function kt(t){return t.size===void 0&&(t.size=t.__iterate(kn)),t.size}function Et(t,e){if(typeof e!="number"){var r=e>>>0;if(""+r!==e||r===4294967295)return NaN;e=r}return e<0?kt(t)+e:e}function kn(){return!0}function je(t,e,r){return(t===0&&!Dn(t)||r!==void 0&&t<=-r)&&(e===void 0||r!==void 0&&e>=r)}function pe(t,e){return xn(t,e,0)}function Ne(t,e){return xn(t,e,e)}function xn(t,e,r){return t===void 0?r:Dn(t)?e===1/0?e:Math.max(0,e+t)|0:e===void 0||e===t?t:Math.min(e,t)|0}function Dn(t){return t<0||t===0&&1/t===-1/0}var Bn="@@__IMMUTABLE_ITERABLE__@@";function G(t){return!!(t&&t[Bn])}var Un="@@__IMMUTABLE_KEYED__@@";function C(t){return!!(t&&t[Un])}var Kn="@@__IMMUTABLE_INDEXED__@@";function H(t){return!!(t&&t[Kn])}function ke(t){return C(t)||H(t)}var L=function(e){return G(e)?e:tt(e)},it=function(t){function e(r){return C(r)?r:zt(r)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(L),qt=function(t){function e(r){return H(r)?r:ft(r)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(L),Yt=function(t){function e(r){return G(r)&&!ke(r)?r:Vt(r)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(L);L.Keyed=it;L.Indexed=qt;L.Set=Yt;var Fn="@@__IMMUTABLE_SEQ__@@";function pr(t){return!!(t&&t[Fn])}var Wn="@@__IMMUTABLE_RECORD__@@";function Ht(t){return!!(t&&t[Wn])}function _t(t){return G(t)||Ht(t)}var Gt="@@__IMMUTABLE_ORDERED__@@";function ot(t){return!!(t&&t[Gt])}var de=0,at=1,nt=2,nr=typeof Symbol=="function"&&Symbol.iterator,Yn="@@iterator",xe=nr||Yn,$=function(e){this.next=e};$.prototype.toString=function(){return"[Iterator]"};$.KEYS=de;$.VALUES=at;$.ENTRIES=nt;$.prototype.inspect=$.prototype.toSource=function(){return this.toString()};$.prototype[xe]=function(){return this};function q(t,e,r,n){var i=t===0?e:t===1?r:[e,r];return n?n.value=i:n={value:i,done:!1},n}function J(){return{value:void 0,done:!0}}function Hn(t){return Array.isArray(t)?!0:!!De(t)}function Zr(t){return t&&typeof t.next=="function"}function ir(t){var e=De(t);return e&&e.call(t)}function De(t){var e=t&&(nr&&t[nr]||t[Yn]);if(typeof e=="function")return e}function ys(t){var e=De(t);return e&&e===t.entries}function gs(t){var e=De(t);return e&&e===t.keys}var Jt=Object.prototype.hasOwnProperty;function Gn(t){return Array.isArray(t)||typeof t=="string"?!0:t&&typeof t=="object"&&Number.isInteger(t.length)&&t.length>=0&&(t.length===0?Object.keys(t).length===1:t.hasOwnProperty(t.length-1))}var tt=function(t){function e(r){return r==null?vr():_t(r)?r.toSeq():ws(r)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.toSeq=function(){return this},e.prototype.toString=function(){return this.__toString("Seq {","}")},e.prototype.cacheResult=function(){return!this._cache&&this.__iterateUncached&&(this._cache=this.entrySeq().toArray(),this.size=this._cache.length),this},e.prototype.__iterate=function(n,i){var s=this._cache;if(s){for(var u=s.length,o=0;o!==u;){var a=s[i?u-++o:o++];if(n(a[1],a[0],this)===!1)break}return o}return this.__iterateUncached(n,i)},e.prototype.__iterator=function(n,i){var s=this._cache;if(s){var u=s.length,o=0;return new $(function(){if(o===u)return J();var a=s[i?u-++o:o++];return q(n,a[0],a[1])})}return this.__iteratorUncached(n,i)},e}(L),zt=function(t){function e(r){return r==null?vr().toKeyedSeq():G(r)?C(r)?r.toSeq():r.fromEntrySeq():Ht(r)?r.toSeq():yr(r)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.toKeyedSeq=function(){return this},e}(tt),ft=function(t){function e(r){return r==null?vr():G(r)?C(r)?r.entrySeq():r.toIndexedSeq():Ht(r)?r.toSeq().entrySeq():Jn(r)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.of=function(){return e(arguments)},e.prototype.toIndexedSeq=function(){return this},e.prototype.toString=function(){return this.__toString("Seq [","]")},e}(tt),Vt=function(t){function e(r){return(G(r)&&!ke(r)?r:ft(r)).toSetSeq()}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.of=function(){return e(arguments)},e.prototype.toSetSeq=function(){return this},e}(tt);tt.isSeq=pr;tt.Keyed=zt;tt.Set=Vt;tt.Indexed=ft;tt.prototype[Fn]=!0;var It=function(t){function e(r){this._array=r,this.size=r.length}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.get=function(n,i){return this.has(n)?this._array[Et(this,n)]:i},e.prototype.__iterate=function(n,i){for(var s=this._array,u=s.length,o=0;o!==u;){var a=i?u-++o:o++;if(n(s[a],a,this)===!1)break}return o},e.prototype.__iterator=function(n,i){var s=this._array,u=s.length,o=0;return new $(function(){if(o===u)return J();var a=i?u-++o:o++;return q(n,a,s[a])})},e}(ft),dr=function(t){function e(r){var n=Object.keys(r).concat(Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(r):[]);this._object=r,this._keys=n,this.size=n.length}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.get=function(n,i){return i!==void 0&&!this.has(n)?i:this._object[n]},e.prototype.has=function(n){return Jt.call(this._object,n)},e.prototype.__iterate=function(n,i){for(var s=this._object,u=this._keys,o=u.length,a=0;a!==o;){var f=u[i?o-++a:a++];if(n(s[f],f,this)===!1)break}return a},e.prototype.__iterator=function(n,i){var s=this._object,u=this._keys,o=u.length,a=0;return new $(function(){if(a===o)return J();var f=u[i?o-++a:a++];return q(n,f,s[f])})},e}(zt);dr.prototype[Gt]=!0;var ms=function(t){function e(r){this._collection=r,this.size=r.length||r.size}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.__iterateUncached=function(n,i){if(i)return this.cacheResult().__iterate(n,i);var s=this._collection,u=ir(s),o=0;if(Zr(u))for(var a;!(a=u.next()).done&&n(a.value,o++,this)!==!1;);return o},e.prototype.__iteratorUncached=function(n,i){if(i)return this.cacheResult().__iterator(n,i);var s=this._collection,u=ir(s);if(!Zr(u))return new $(J);var o=0;return new $(function(){var a=u.next();return a.done?a:q(n,o++,a.value)})},e}(ft),Qr;function vr(){return Qr||(Qr=new It([]))}function yr(t){var e=gr(t);if(e)return e.fromEntrySeq();if(typeof t=="object")return new dr(t);throw new TypeError("Expected Array or collection object of [k, v] entries, or keyed object: "+t)}function Jn(t){var e=gr(t);if(e)return e;throw new TypeError("Expected Array or collection object of values: "+t)}function ws(t){var e=gr(t);if(e)return ys(t)?e.fromEntrySeq():gs(t)?e.toSetSeq():e;if(typeof t=="object")return new dr(t);throw new TypeError("Expected Array or collection object of values, or keyed object: "+t)}function gr(t){return Gn(t)?new It(t):Hn(t)?new ms(t):void 0}var Vn="@@__IMMUTABLE_MAP__@@";function mr(t){return!!(t&&t[Vn])}function Xn(t){return mr(t)&&ot(t)}function tn(t){return!!(t&&typeof t.equals=="function"&&typeof t.hashCode=="function")}function Z(t,e){if(t===e||t!==t&&e!==e)return!0;if(!t||!e)return!1;if(typeof t.valueOf=="function"&&typeof e.valueOf=="function"){if(t=t.valueOf(),e=e.valueOf(),t===e||t!==t&&e!==e)return!0;if(!t||!e)return!1}return!!(tn(t)&&tn(e)&&t.equals(e))}var Qt=typeof Math.imul=="function"&&Math.imul(4294967295,2)===-2?Math.imul:function(e,r){e|=0,r|=0;var n=e&65535,i=r&65535;return n*i+((e>>>16)*i+n*(r>>>16)<<16>>>0)|0};function Be(t){return t>>>1&1073741824|t&3221225471}var Ss=Object.prototype.valueOf;function V(t){if(t==null)return en(t);if(typeof t.hashCode=="function")return Be(t.hashCode(t));var e=zs(t);if(e==null)return en(e);switch(typeof e){case"boolean":return e?1108378657:1108378656;case"number":return $s(e);case"string":return e.length>Ms?Es(e):sr(e);case"object":case"function":return Os(e);case"symbol":return bs(e);default:if(typeof e.toString=="function")return sr(e.toString());throw new Error("Value type "+typeof e+" cannot be hashed.")}}function en(t){return t===null?1108378658:1108378659}function $s(t){if(t!==t||t===1/0)return 0;var e=t|0;for(e!==t&&(e^=t*4294967295);t>4294967295;)t/=4294967295,e^=t;return Be(e)}function Es(t){var e=Je[t];return e===void 0&&(e=sr(t),Ge===Is&&(Ge=0,Je={}),Ge++,Je[t]=e),e}function sr(t){for(var e=0,r=0;r<t.length;r++)e=31*e+t.charCodeAt(r)|0;return Be(e)}function bs(t){var e=sn[t];return e!==void 0||(e=Zn(),sn[t]=e),e}function Os(t){var e;if(ur&&(e=or.get(t),e!==void 0)||(e=t[Mt],e!==void 0)||!nn&&(e=t.propertyIsEnumerable&&t.propertyIsEnumerable[Mt],e!==void 0||(e=As(t),e!==void 0)))return e;if(e=Zn(),ur)or.set(t,e);else{if(rn!==void 0&&rn(t)===!1)throw new Error("Non-extensible objects are not allowed as keys.");if(nn)Object.defineProperty(t,Mt,{enumerable:!1,configurable:!1,writable:!1,value:e});else if(t.propertyIsEnumerable!==void 0&&t.propertyIsEnumerable===t.constructor.prototype.propertyIsEnumerable)t.propertyIsEnumerable=function(){return this.constructor.prototype.propertyIsEnumerable.apply(this,arguments)},t.propertyIsEnumerable[Mt]=e;else if(t.nodeType!==void 0)t[Mt]=e;else throw new Error("Unable to set a non-enumerable property on object.")}return e}var rn=Object.isExtensible,nn=function(){try{return Object.defineProperty({},"@",{}),!0}catch{return!1}}();function As(t){if(t&&t.nodeType>0)switch(t.nodeType){case 1:return t.uniqueID;case 9:return t.documentElement&&t.documentElement.uniqueID}}function zs(t){return t.valueOf!==Ss&&typeof t.valueOf=="function"?t.valueOf(t):t}function Zn(){var t=++He;return He&1073741824&&(He=0),t}var ur=typeof WeakMap=="function",or;ur&&(or=new WeakMap);var sn=Object.create(null),He=0,Mt="__immutablehash__";typeof Symbol=="function"&&(Mt=Symbol(Mt));var Ms=16,Is=255,Ge=0,Je={},Ue=function(t){function e(r,n){this._iter=r,this._useKeys=n,this.size=r.size}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.get=function(n,i){return this._iter.get(n,i)},e.prototype.has=function(n){return this._iter.has(n)},e.prototype.valueSeq=function(){return this._iter.valueSeq()},e.prototype.reverse=function(){var n=this,i=wr(this,!0);return this._useKeys||(i.valueSeq=function(){return n._iter.toSeq().reverse()}),i},e.prototype.map=function(n,i){var s=this,u=ni(this,n,i);return this._useKeys||(u.valueSeq=function(){return s._iter.toSeq().map(n,i)}),u},e.prototype.__iterate=function(n,i){var s=this;return this._iter.__iterate(function(u,o){return n(u,o,s)},i)},e.prototype.__iterator=function(n,i){return this._iter.__iterator(n,i)},e}(zt);Ue.prototype[Gt]=!0;var Qn=function(t){function e(r){this._iter=r,this.size=r.size}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.includes=function(n){return this._iter.includes(n)},e.prototype.__iterate=function(n,i){var s=this,u=0;return i&&kt(this),this._iter.__iterate(function(o){return n(o,i?s.size-++u:u++,s)},i)},e.prototype.__iterator=function(n,i){var s=this,u=this._iter.__iterator(at,i),o=0;return i&&kt(this),new $(function(){var a=u.next();return a.done?a:q(n,i?s.size-++o:o++,a.value,a)})},e}(ft),ti=function(t){function e(r){this._iter=r,this.size=r.size}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.has=function(n){return this._iter.includes(n)},e.prototype.__iterate=function(n,i){var s=this;return this._iter.__iterate(function(u){return n(u,u,s)},i)},e.prototype.__iterator=function(n,i){var s=this._iter.__iterator(at,i);return new $(function(){var u=s.next();return u.done?u:q(n,u.value,u.value,u)})},e}(Vt),ei=function(t){function e(r){this._iter=r,this.size=r.size}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.entrySeq=function(){return this._iter.toSeq()},e.prototype.__iterate=function(n,i){var s=this;return this._iter.__iterate(function(u){if(u){on(u);var o=G(u);return n(o?u.get(1):u[1],o?u.get(0):u[0],s)}},i)},e.prototype.__iterator=function(n,i){var s=this._iter.__iterator(at,i);return new $(function(){for(;;){var u=s.next();if(u.done)return u;var o=u.value;if(o){on(o);var a=G(o);return q(n,a?o.get(0):o[0],a?o.get(1):o[1],u)}}})},e}(zt);Qn.prototype.cacheResult=Ue.prototype.cacheResult=ti.prototype.cacheResult=ei.prototype.cacheResult=Er;function ri(t){var e=pt(t);return e._iter=t,e.size=t.size,e.flip=function(){return t},e.reverse=function(){var r=t.reverse.apply(this);return r.flip=function(){return t.reverse()},r},e.has=function(r){return t.includes(r)},e.includes=function(r){return t.has(r)},e.cacheResult=Er,e.__iterateUncached=function(r,n){var i=this;return t.__iterate(function(s,u){return r(u,s,i)!==!1},n)},e.__iteratorUncached=function(r,n){if(r===nt){var i=t.__iterator(r,n);return new $(function(){var s=i.next();if(!s.done){var u=s.value[0];s.value[0]=s.value[1],s.value[1]=u}return s})}return t.__iterator(r===at?de:at,n)},e}function ni(t,e,r){var n=pt(t);return n.size=t.size,n.has=function(i){return t.has(i)},n.get=function(i,s){var u=t.get(i,S);return u===S?s:e.call(r,u,i,t)},n.__iterateUncached=function(i,s){var u=this;return t.__iterate(function(o,a,f){return i(e.call(r,o,a,f),a,u)!==!1},s)},n.__iteratorUncached=function(i,s){var u=t.__iterator(nt,s);return new $(function(){var o=u.next();if(o.done)return o;var a=o.value,f=a[0];return q(i,f,e.call(r,a[1],f,t),o)})},n}function wr(t,e){var r=this,n=pt(t);return n._iter=t,n.size=t.size,n.reverse=function(){return t},t.flip&&(n.flip=function(){var i=ri(t);return i.reverse=function(){return t.flip()},i}),n.get=function(i,s){return t.get(e?i:-1-i,s)},n.has=function(i){return t.has(e?i:-1-i)},n.includes=function(i){return t.includes(i)},n.cacheResult=Er,n.__iterate=function(i,s){var u=this,o=0;return s&&kt(t),t.__iterate(function(a,f){return i(a,e?f:s?u.size-++o:o++,u)},!s)},n.__iterator=function(i,s){var u=0;s&&kt(t);var o=t.__iterator(nt,!s);return new $(function(){var a=o.next();if(a.done)return a;var f=a.value;return q(i,e?f[0]:s?r.size-++u:u++,f[1],a)})},n}function ii(t,e,r,n){var i=pt(t);return n&&(i.has=function(s){var u=t.get(s,S);return u!==S&&!!e.call(r,u,s,t)},i.get=function(s,u){var o=t.get(s,S);return o!==S&&e.call(r,o,s,t)?o:u}),i.__iterateUncached=function(s,u){var o=this,a=0;return t.__iterate(function(f,c,h){if(e.call(r,f,c,h))return a++,s(f,n?c:a-1,o)},u),a},i.__iteratorUncached=function(s,u){var o=t.__iterator(nt,u),a=0;return new $(function(){for(;;){var f=o.next();if(f.done)return f;var c=f.value,h=c[0],l=c[1];if(e.call(r,l,h,t))return q(s,n?h:a++,l,f)}})},i}function Cs(t,e,r){var n=Ot().asMutable();return t.__iterate(function(i,s){n.update(e.call(r,i,s,t),0,function(u){return u+1})}),n.asImmutable()}function qs(t,e,r){var n=C(t),i=(ot(t)?yt():Ot()).asMutable();t.__iterate(function(u,o){i.update(e.call(r,u,o,t),function(a){return a=a||[],a.push(n?[o,u]:u),a})});var s=$r(t);return i.map(function(u){return E(t,s(u))}).asImmutable()}function Rs(t,e,r){var n=C(t),i=[[],[]];t.__iterate(function(u,o){i[e.call(r,u,o,t)?1:0].push(n?[o,u]:u)});var s=$r(t);return i.map(function(u){return E(t,s(u))})}function Sr(t,e,r,n){var i=t.size;if(je(e,r,i))return t;if(typeof i>"u"&&(e<0||r<0))return Sr(t.toSeq().cacheResult(),e,r,n);var s=pe(e,i),u=Ne(r,i),o=u-s,a;o===o&&(a=o<0?0:o);var f=pt(t);return f.size=a===0?a:t.size&&a||void 0,!n&&pr(t)&&a>=0&&(f.get=function(c,h){return c=Et(this,c),c>=0&&c<a?t.get(c+s,h):h}),f.__iterateUncached=function(c,h){var l=this;if(a===0)return 0;if(h)return this.cacheResult().__iterate(c,h);var p=0,d=!0,_=0;return t.__iterate(function(g,m){if(!(d&&(d=p++<s)))return _++,c(g,n?m:_-1,l)!==!1&&_!==a}),_},f.__iteratorUncached=function(c,h){if(a!==0&&h)return this.cacheResult().__iterator(c,h);if(a===0)return new $(J);var l=t.__iterator(c,h),p=0,d=0;return new $(function(){for(;p++<s;)l.next();if(++d>a)return J();var _=l.next();return n||c===at||_.done?_:c===de?q(c,d-1,void 0,_):q(c,d-1,_.value[1],_)})},f}function Ts(t,e,r){var n=pt(t);return n.__iterateUncached=function(i,s){var u=this;if(s)return this.cacheResult().__iterate(i,s);var o=0;return t.__iterate(function(a,f,c){return e.call(r,a,f,c)&&++o&&i(a,f,u)}),o},n.__iteratorUncached=function(i,s){var u=this;if(s)return this.cacheResult().__iterator(i,s);var o=t.__iterator(nt,s),a=!0;return new $(function(){if(!a)return J();var f=o.next();if(f.done)return f;var c=f.value,h=c[0],l=c[1];return e.call(r,l,h,u)?i===nt?f:q(i,h,l,f):(a=!1,J())})},n}function si(t,e,r,n){var i=pt(t);return i.__iterateUncached=function(s,u){var o=this;if(u)return this.cacheResult().__iterate(s,u);var a=!0,f=0;return t.__iterate(function(c,h,l){if(!(a&&(a=e.call(r,c,h,l))))return f++,s(c,n?h:f-1,o)}),f},i.__iteratorUncached=function(s,u){var o=this;if(u)return this.cacheResult().__iterator(s,u);var a=t.__iterator(nt,u),f=!0,c=0;return new $(function(){var h,l,p;do{if(h=a.next(),h.done)return n||s===at?h:s===de?q(s,c++,void 0,h):q(s,c++,h.value[1],h);var d=h.value;l=d[0],p=d[1],f&&(f=e.call(r,p,l,o))}while(f);return s===nt?h:q(s,l,p,h)})},i}function Ls(t,e){var r=C(t),n=[t].concat(e).map(function(u){return G(u)?r&&(u=it(u)):u=r?yr(u):Jn(Array.isArray(u)?u:[u]),u}).filter(function(u){return u.size!==0});if(n.length===0)return t;if(n.length===1){var i=n[0];if(i===t||r&&C(i)||H(t)&&H(i))return i}var s=new It(n);return r?s=s.toKeyedSeq():H(t)||(s=s.toSetSeq()),s=s.flatten(!0),s.size=n.reduce(function(u,o){if(u!==void 0){var a=o.size;if(a!==void 0)return u+a}},0),s}function ui(t,e,r){var n=pt(t);return n.__iterateUncached=function(i,s){if(s)return this.cacheResult().__iterate(i,s);var u=0,o=!1;function a(f,c){f.__iterate(function(h,l){return(!e||c<e)&&G(h)?a(h,c+1):(u++,i(h,r?l:u-1,n)===!1&&(o=!0)),!o},s)}return a(t,0),u},n.__iteratorUncached=function(i,s){if(s)return this.cacheResult().__iterator(i,s);var u=t.__iterator(i,s),o=[],a=0;return new $(function(){for(;u;){var f=u.next();if(f.done!==!1){u=o.pop();continue}var c=f.value;if(i===nt&&(c=c[1]),(!e||o.length<e)&&G(c))o.push(u),u=c.__iterator(i,s);else return r?f:q(i,a++,c,f)}return J()})},n}function Ps(t,e,r){var n=$r(t);return t.toSeq().map(function(i,s){return n(e.call(r,i,s,t))}).flatten(!0)}function js(t,e){var r=pt(t);return r.size=t.size&&t.size*2-1,r.__iterateUncached=function(n,i){var s=this,u=0;return t.__iterate(function(o){return(!u||n(e,u++,s)!==!1)&&n(o,u++,s)!==!1},i),u},r.__iteratorUncached=function(n,i){var s=t.__iterator(at,i),u=0,o;return new $(function(){return(!o||u%2)&&(o=s.next(),o.done)?o:u%2?q(n,u++,e):q(n,u++,o.value,o)})},r}function xt(t,e,r){e||(e=oi);var n=C(t),i=0,s=t.toSeq().map(function(u,o){return[o,u,i++,r?r(u,o,t):u]}).valueSeq().toArray();return s.sort(function(u,o){return e(u[3],o[3])||u[2]-o[2]}).forEach(n?function(u,o){s[o].length=2}:function(u,o){s[o]=u[1]}),n?zt(s):H(t)?ft(s):Vt(s)}function Se(t,e,r){if(e||(e=oi),r){var n=t.toSeq().map(function(i,s){return[i,r(i,s,t)]}).reduce(function(i,s){return un(e,i[1],s[1])?s:i});return n&&n[0]}return t.reduce(function(i,s){return un(e,i,s)?s:i})}function un(t,e,r){var n=t(r,e);return n===0&&r!==e&&(r==null||r!==r)||n>0}function $e(t,e,r,n){var i=pt(t),s=new It(r).map(function(u){return u.size});return i.size=n?s.max():s.min(),i.__iterate=function(u,o){for(var a=this.__iterator(at,o),f,c=0;!(f=a.next()).done&&u(f.value,c++,this)!==!1;);return c},i.__iteratorUncached=function(u,o){var a=r.map(function(h){return h=L(h),ir(o?h.reverse():h)}),f=0,c=!1;return new $(function(){var h;return c||(h=a.map(function(l){return l.next()}),c=n?h.every(function(l){return l.done}):h.some(function(l){return l.done})),c?J():q(u,f++,e.apply(null,h.map(function(l){return l.value})))})},i}function E(t,e){return t===e?t:pr(t)?e:t.constructor(e)}function on(t){if(t!==Object(t))throw new TypeError("Expected [K, V] tuple: "+t)}function $r(t){return C(t)?it:H(t)?qt:Yt}function pt(t){return Object.create((C(t)?zt:H(t)?ft:Vt).prototype)}function Er(){return this._iter.cacheResult?(this._iter.cacheResult(),this.size=this._iter.size,this):tt.prototype.cacheResult.call(this)}function oi(t,e){return t===void 0&&e===void 0?0:t===void 0?1:e===void 0?-1:t>e?1:t<e?-1:0}function ct(t,e){e=e||0;for(var r=Math.max(0,t.length-e),n=new Array(r),i=0;i<r;i++)n[i]=t[i+e];return n}function br(t,e){if(!t)throw new Error(e)}function X(t){br(t!==1/0,"Cannot perform this action with an infinite size.")}function ai(t){if(Gn(t)&&typeof t!="string")return t;if(ot(t))return t.toArray();throw new TypeError("Invalid keyPath: expected Ordered Collection or Array: "+t)}var Ns=Object.prototype.toString;function ks(t){if(!t||typeof t!="object"||Ns.call(t)!=="[object Object]")return!1;var e=Object.getPrototypeOf(t);if(e===null)return!0;for(var r=e,n=Object.getPrototypeOf(e);n!==null;)r=n,n=Object.getPrototypeOf(r);return r===e}function bt(t){return typeof t=="object"&&(_t(t)||Array.isArray(t)||ks(t))}function se(t){try{return typeof t=="string"?JSON.stringify(t):String(t)}catch{return JSON.stringify(t)}}function xs(t,e){return _t(t)?t.has(e):bt(t)&&Jt.call(t,e)}function fi(t,e,r){return _t(t)?t.get(e,r):xs(t,e)?typeof t.get=="function"?t.get(e):t[e]:r}function Re(t){if(Array.isArray(t))return ct(t);var e={};for(var r in t)Jt.call(t,r)&&(e[r]=t[r]);return e}function Ds(t,e){if(!bt(t))throw new TypeError("Cannot update non-data-structure value: "+t);if(_t(t)){if(!t.remove)throw new TypeError("Cannot update immutable value without .remove() method: "+t);return t.remove(e)}if(!Jt.call(t,e))return t;var r=Re(t);return Array.isArray(r)?r.splice(e,1):delete r[e],r}function Bs(t,e,r){if(!bt(t))throw new TypeError("Cannot update non-data-structure value: "+t);if(_t(t)){if(!t.set)throw new TypeError("Cannot update immutable value without .set() method: "+t);return t.set(e,r)}if(Jt.call(t,e)&&r===t[e])return t;var n=Re(t);return n[e]=r,n}function Xt(t,e,r,n){n||(n=r,r=void 0);var i=ci(_t(t),t,ai(e),0,r,n);return i===S?r:i}function ci(t,e,r,n,i,s){var u=e===S;if(n===r.length){var o=u?i:e,a=s(o);return a===o?e:a}if(!u&&!bt(e))throw new TypeError("Cannot update within non-data-structure value in path ["+r.slice(0,n).map(se)+"]: "+e);var f=r[n],c=u?S:fi(e,f,S),h=ci(c===S?t:_t(c),c,r,n+1,i,s);return h===c?e:h===S?Ds(e,f):Bs(u?t?ut():{}:e,f,h)}function Us(t,e,r){return Xt(t,e,S,function(){return r})}function Or(t,e){return Us(this,t,e)}function Ks(t,e){return Xt(t,e,function(){return S})}function Ar(t){return Ks(this,t)}function hi(t,e,r,n){return Xt(t,[e],r,n)}function zr(t,e,r){return arguments.length===1?t(this):hi(this,t,e,r)}function Mr(t,e,r){return Xt(this,t,e,r)}function li(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];return pi(this,t)}function _i(t){for(var e=[],r=arguments.length-1;r-- >0;)e[r]=arguments[r+1];if(typeof t!="function")throw new TypeError("Invalid merger function: "+t);return pi(this,e,t)}function pi(t,e,r){for(var n=[],i=0;i<e.length;i++){var s=it(e[i]);s.size!==0&&n.push(s)}return n.length===0?t:t.toSeq().size===0&&!t.__ownerID&&n.length===1?t.constructor(n[0]):t.withMutations(function(u){for(var o=r?function(f,c){hi(u,c,S,function(h){return h===S?f:r(h,f,c)})}:function(f,c){u.set(c,f)},a=0;a<n.length;a++)n[a].forEach(o)})}function Ir(t,e,r){return Cr(t,e,Fs(r))}function Cr(t,e,r){if(!bt(t))throw new TypeError("Cannot merge into non-data-structure value: "+t);if(_t(t))return typeof r=="function"&&t.mergeWith?t.mergeWith.apply(t,[r].concat(e)):t.merge?t.merge.apply(t,e):t.concat.apply(t,e);for(var n=Array.isArray(t),i=t,s=n?qt:it,u=n?function(a){i===t&&(i=Re(i)),i.push(a)}:function(a,f){var c=Jt.call(i,f),h=c&&r?r(i[f],a,f):a;(!c||h!==i[f])&&(i===t&&(i=Re(i)),i[f]=h)},o=0;o<e.length;o++)s(e[o]).forEach(u);return i}function Fs(t){function e(r,n,i){return bt(r)&&bt(n)&&Ws(r,n)?Cr(r,[n],e):t?t(r,n,i):n}return e}function Ws(t,e){var r=tt(t),n=tt(e);return H(r)===H(n)&&C(r)===C(n)}function di(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];return Ir(this,t)}function vi(t){for(var e=[],r=arguments.length-1;r-- >0;)e[r]=arguments[r+1];return Ir(this,e,t)}function qr(t){for(var e=[],r=arguments.length-1;r-- >0;)e[r]=arguments[r+1];return Xt(this,t,ut(),function(n){return Cr(n,e)})}function Rr(t){for(var e=[],r=arguments.length-1;r-- >0;)e[r]=arguments[r+1];return Xt(this,t,ut(),function(n){return Ir(n,e)})}function ve(t){var e=this.asMutable();return t(e),e.wasAltered()?e.__ensureOwner(this.__ownerID):this}function ye(){return this.__ownerID?this:this.__ensureOwner(new _r)}function ge(){return this.__ensureOwner()}function Tr(){return this.__altered}var Ot=function(t){function e(r){return r==null?ut():mr(r)&&!ot(r)?r:ut().withMutations(function(n){var i=t(r);X(i.size),i.forEach(function(s,u){return n.set(u,s)})})}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.of=function(){for(var n=[],i=arguments.length;i--;)n[i]=arguments[i];return ut().withMutations(function(s){for(var u=0;u<n.length;u+=2){if(u+1>=n.length)throw new Error("Missing value for key: "+n[u]);s.set(n[u],n[u+1])}})},e.prototype.toString=function(){return this.__toString("Map {","}")},e.prototype.get=function(n,i){return this._root?this._root.get(0,void 0,n,i):i},e.prototype.set=function(n,i){return cn(this,n,i)},e.prototype.remove=function(n){return cn(this,n,S)},e.prototype.deleteAll=function(n){var i=L(n);return i.size===0?this:this.withMutations(function(s){i.forEach(function(u){return s.remove(u)})})},e.prototype.clear=function(){return this.size===0?this:this.__ownerID?(this.size=0,this._root=null,this.__hash=void 0,this.__altered=!0,this):ut()},e.prototype.sort=function(n){return yt(xt(this,n))},e.prototype.sortBy=function(n,i){return yt(xt(this,i,n))},e.prototype.map=function(n,i){var s=this;return this.withMutations(function(u){u.forEach(function(o,a){u.set(a,n.call(i,o,a,s))})})},e.prototype.__iterator=function(n,i){return new Ys(this,n,i)},e.prototype.__iterate=function(n,i){var s=this,u=0;return this._root&&this._root.iterate(function(o){return u++,n(o[1],o[0],s)},i),u},e.prototype.__ensureOwner=function(n){return n===this.__ownerID?this:n?Lr(this.size,this._root,n,this.__hash):this.size===0?ut():(this.__ownerID=n,this.__altered=!1,this)},e}(it);Ot.isMap=mr;var I=Ot.prototype;I[Vn]=!0;I[_e]=I.remove;I.removeAll=I.deleteAll;I.setIn=Or;I.removeIn=I.deleteIn=Ar;I.update=zr;I.updateIn=Mr;I.merge=I.concat=li;I.mergeWith=_i;I.mergeDeep=di;I.mergeDeepWith=vi;I.mergeIn=qr;I.mergeDeepIn=Rr;I.withMutations=ve;I.wasAltered=Tr;I.asImmutable=ge;I["@@transducer/init"]=I.asMutable=ye;I["@@transducer/step"]=function(t,e){return t.set(e[0],e[1])};I["@@transducer/result"]=function(t){return t.asImmutable()};var ue=function(e,r){this.ownerID=e,this.entries=r};ue.prototype.get=function(e,r,n,i){for(var s=this.entries,u=0,o=s.length;u<o;u++)if(Z(n,s[u][0]))return s[u][1];return i};ue.prototype.update=function(e,r,n,i,s,u,o){for(var a=s===S,f=this.entries,c=0,h=f.length;c<h&&!Z(i,f[c][0]);c++);var l=c<h;if(l?f[c][1]===s:a)return this;if(rt(o),(a||!l)&&rt(u),!(a&&f.length===1)){if(!l&&!a&&f.length>=Zs)return Hs(e,f,i,s);var p=e&&e===this.ownerID,d=p?f:ct(f);return l?a?c===h-1?d.pop():d[c]=d.pop():d[c]=[i,s]:d.push([i,s]),p?(this.entries=d,this):new ue(e,d)}};var Dt=function(e,r,n){this.ownerID=e,this.bitmap=r,this.nodes=n};Dt.prototype.get=function(e,r,n,i){r===void 0&&(r=V(n));var s=1<<((e===0?r:r>>>e)&W),u=this.bitmap;return u&s?this.nodes[yi(u&s-1)].get(e+M,r,n,i):i};Dt.prototype.update=function(e,r,n,i,s,u,o){n===void 0&&(n=V(i));var a=(r===0?n:n>>>r)&W,f=1<<a,c=this.bitmap,h=(c&f)!==0;if(!h&&s===S)return this;var l=yi(c&f-1),p=this.nodes,d=h?p[l]:void 0,_=Pr(d,e,r+M,n,i,s,u,o);if(_===d)return this;if(!h&&_&&p.length>=Qs)return Js(e,p,c,a,_);if(h&&!_&&p.length===2&&hn(p[l^1]))return p[l^1];if(h&&_&&p.length===1&&hn(_))return _;var g=e&&e===this.ownerID,m=h?_?c:c^f:c|f,v=h?_?gi(p,l,_,g):Xs(p,l,g):Vs(p,l,_,g);return g?(this.bitmap=m,this.nodes=v,this):new Dt(e,m,v)};var oe=function(e,r,n){this.ownerID=e,this.count=r,this.nodes=n};oe.prototype.get=function(e,r,n,i){r===void 0&&(r=V(n));var s=(e===0?r:r>>>e)&W,u=this.nodes[s];return u?u.get(e+M,r,n,i):i};oe.prototype.update=function(e,r,n,i,s,u,o){n===void 0&&(n=V(i));var a=(r===0?n:n>>>r)&W,f=s===S,c=this.nodes,h=c[a];if(f&&!h)return this;var l=Pr(h,e,r+M,n,i,s,u,o);if(l===h)return this;var p=this.count;if(!h)p++;else if(!l&&(p--,p<tu))return Gs(e,c,p,a);var d=e&&e===this.ownerID,_=gi(c,a,l,d);return d?(this.count=p,this.nodes=_,this):new oe(e,p,_)};var Bt=function(e,r,n){this.ownerID=e,this.keyHash=r,this.entries=n};Bt.prototype.get=function(e,r,n,i){for(var s=this.entries,u=0,o=s.length;u<o;u++)if(Z(n,s[u][0]))return s[u][1];return i};Bt.prototype.update=function(e,r,n,i,s,u,o){n===void 0&&(n=V(i));var a=s===S;if(n!==this.keyHash)return a?this:(rt(o),rt(u),jr(this,e,r,n,[i,s]));for(var f=this.entries,c=0,h=f.length;c<h&&!Z(i,f[c][0]);c++);var l=c<h;if(l?f[c][1]===s:a)return this;if(rt(o),(a||!l)&&rt(u),a&&h===2)return new vt(e,this.keyHash,f[c^1]);var p=e&&e===this.ownerID,d=p?f:ct(f);return l?a?c===h-1?d.pop():d[c]=d.pop():d[c]=[i,s]:d.push([i,s]),p?(this.entries=d,this):new Bt(e,this.keyHash,d)};var vt=function(e,r,n){this.ownerID=e,this.keyHash=r,this.entry=n};vt.prototype.get=function(e,r,n,i){return Z(n,this.entry[0])?this.entry[1]:i};vt.prototype.update=function(e,r,n,i,s,u,o){var a=s===S,f=Z(i,this.entry[0]);if(f?s===this.entry[1]:a)return this;if(rt(o),a){rt(u);return}return f?e&&e===this.ownerID?(this.entry[1]=s,this):new vt(e,this.keyHash,[i,s]):(rt(u),jr(this,e,r,V(i),[i,s]))};ue.prototype.iterate=Bt.prototype.iterate=function(t,e){for(var r=this.entries,n=0,i=r.length-1;n<=i;n++)if(t(r[e?i-n:n])===!1)return!1};Dt.prototype.iterate=oe.prototype.iterate=function(t,e){for(var r=this.nodes,n=0,i=r.length-1;n<=i;n++){var s=r[e?i-n:n];if(s&&s.iterate(t,e)===!1)return!1}};vt.prototype.iterate=function(t,e){return t(this.entry)};var Ys=function(t){function e(r,n,i){this._type=n,this._reverse=i,this._stack=r._root&&an(r._root)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.next=function(){for(var n=this._type,i=this._stack;i;){var s=i.node,u=i.index++,o=void 0;if(s.entry){if(u===0)return Ve(n,s.entry)}else if(s.entries){if(o=s.entries.length-1,u<=o)return Ve(n,s.entries[this._reverse?o-u:u])}else if(o=s.nodes.length-1,u<=o){var a=s.nodes[this._reverse?o-u:u];if(a){if(a.entry)return Ve(n,a.entry);i=this._stack=an(a,i)}continue}i=this._stack=this._stack.__prev}return J()},e}($);function Ve(t,e){return q(t,e[0],e[1])}function an(t,e){return{node:t,index:0,__prev:e}}function Lr(t,e,r,n){var i=Object.create(I);return i.size=t,i._root=e,i.__ownerID=r,i.__hash=n,i.__altered=!1,i}var fn;function ut(){return fn||(fn=Lr(0))}function cn(t,e,r){var n,i;if(t._root){var s=rr(),u=rr();if(n=Pr(t._root,t.__ownerID,0,void 0,e,r,s,u),!u.value)return t;i=t.size+(s.value?r===S?-1:1:0)}else{if(r===S)return t;i=1,n=new ue(t.__ownerID,[[e,r]])}return t.__ownerID?(t.size=i,t._root=n,t.__hash=void 0,t.__altered=!0,t):n?Lr(i,n):ut()}function Pr(t,e,r,n,i,s,u,o){return t?t.update(e,r,n,i,s,u,o):s===S?t:(rt(o),rt(u),new vt(e,n,[i,s]))}function hn(t){return t.constructor===vt||t.constructor===Bt}function jr(t,e,r,n,i){if(t.keyHash===n)return new Bt(e,n,[t.entry,i]);var s=(r===0?t.keyHash:t.keyHash>>>r)&W,u=(r===0?n:n>>>r)&W,o,a=s===u?[jr(t,e,r+M,n,i)]:(o=new vt(e,n,i),s<u?[t,o]:[o,t]);return new Dt(e,1<<s|1<<u,a)}function Hs(t,e,r,n){t||(t=new _r);for(var i=new vt(t,V(r),[r,n]),s=0;s<e.length;s++){var u=e[s];i=i.update(t,0,void 0,u[0],u[1])}return i}function Gs(t,e,r,n){for(var i=0,s=0,u=new Array(r),o=0,a=1,f=e.length;o<f;o++,a<<=1){var c=e[o];c!==void 0&&o!==n&&(i|=a,u[s++]=c)}return new Dt(t,i,u)}function Js(t,e,r,n,i){for(var s=0,u=new Array(et),o=0;r!==0;o++,r>>>=1)u[o]=r&1?e[s++]:void 0;return u[n]=i,new oe(t,s+1,u)}function yi(t){return t-=t>>1&1431655765,t=(t&858993459)+(t>>2&858993459),t=t+(t>>4)&252645135,t+=t>>8,t+=t>>16,t&127}function gi(t,e,r,n){var i=n?t:ct(t);return i[e]=r,i}function Vs(t,e,r,n){var i=t.length+1;if(n&&e+1===i)return t[e]=r,t;for(var s=new Array(i),u=0,o=0;o<i;o++)o===e?(s[o]=r,u=-1):s[o]=t[o+u];return s}function Xs(t,e,r){var n=t.length-1;if(r&&e===n)return t.pop(),t;for(var i=new Array(n),s=0,u=0;u<n;u++)u===e&&(s=1),i[u]=t[u+s];return i}var Zs=et/4,Qs=et/2,tu=et/4,mi="@@__IMMUTABLE_LIST__@@";function wi(t){return!!(t&&t[mi])}var Ke=function(t){function e(r){var n=Oe();if(r==null)return n;if(wi(r))return r;var i=t(r),s=i.size;return s===0?n:(X(s),s>0&&s<et?ae(0,s,M,null,new St(i.toArray())):n.withMutations(function(u){u.setSize(s),i.forEach(function(o,a){return u.set(a,o)})}))}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.of=function(){return this(arguments)},e.prototype.toString=function(){return this.__toString("List [","]")},e.prototype.get=function(n,i){if(n=Et(this,n),n>=0&&n<this.size){n+=this._origin;var s=Si(this,n);return s&&s.array[n&W]}return i},e.prototype.set=function(n,i){return eu(this,n,i)},e.prototype.remove=function(n){return this.has(n)?n===0?this.shift():n===this.size-1?this.pop():this.splice(n,1):this},e.prototype.insert=function(n,i){return this.splice(n,0,i)},e.prototype.clear=function(){return this.size===0?this:this.__ownerID?(this.size=this._origin=this._capacity=0,this._level=M,this._root=this._tail=this.__hash=void 0,this.__altered=!0,this):Oe()},e.prototype.push=function(){var n=arguments,i=this.size;return this.withMutations(function(s){mt(s,0,i+n.length);for(var u=0;u<n.length;u++)s.set(i+u,n[u])})},e.prototype.pop=function(){return mt(this,0,-1)},e.prototype.unshift=function(){var n=arguments;return this.withMutations(function(i){mt(i,-n.length);for(var s=0;s<n.length;s++)i.set(s,n[s])})},e.prototype.shift=function(){return mt(this,1)},e.prototype.concat=function(){for(var n=arguments,i=[],s=0;s<arguments.length;s++){var u=n[s],o=t(typeof u!="string"&&Hn(u)?u:[u]);o.size!==0&&i.push(o)}return i.length===0?this:this.size===0&&!this.__ownerID&&i.length===1?this.constructor(i[0]):this.withMutations(function(a){i.forEach(function(f){return f.forEach(function(c){return a.push(c)})})})},e.prototype.setSize=function(n){return mt(this,0,n)},e.prototype.map=function(n,i){var s=this;return this.withMutations(function(u){for(var o=0;o<s.size;o++)u.set(o,n.call(i,u.get(o),o,s))})},e.prototype.slice=function(n,i){var s=this.size;return je(n,i,s)?this:mt(this,pe(n,s),Ne(i,s))},e.prototype.__iterator=function(n,i){var s=i?this.size:0,u=ln(this,i);return new $(function(){var o=u();return o===ie?J():q(n,i?--s:s++,o)})},e.prototype.__iterate=function(n,i){for(var s=i?this.size:0,u=ln(this,i),o;(o=u())!==ie&&n(o,i?--s:s++,this)!==!1;);return s},e.prototype.__ensureOwner=function(n){return n===this.__ownerID?this:n?ae(this._origin,this._capacity,this._level,this._root,this._tail,n,this.__hash):this.size===0?Oe():(this.__ownerID=n,this.__altered=!1,this)},e}(qt);Ke.isList=wi;var N=Ke.prototype;N[mi]=!0;N[_e]=N.remove;N.merge=N.concat;N.setIn=Or;N.deleteIn=N.removeIn=Ar;N.update=zr;N.updateIn=Mr;N.mergeIn=qr;N.mergeDeepIn=Rr;N.withMutations=ve;N.wasAltered=Tr;N.asImmutable=ge;N["@@transducer/init"]=N.asMutable=ye;N["@@transducer/step"]=function(t,e){return t.push(e)};N["@@transducer/result"]=function(t){return t.asImmutable()};var St=function(e,r){this.array=e,this.ownerID=r};St.prototype.removeBefore=function(e,r,n){if(n===r?1<<r:this.array.length===0)return this;var i=n>>>r&W;if(i>=this.array.length)return new St([],e);var s=i===0,u;if(r>0){var o=this.array[i];if(u=o&&o.removeBefore(e,r-M,n),u===o&&s)return this}if(s&&!u)return this;var a=Ut(this,e);if(!s)for(var f=0;f<i;f++)a.array[f]=void 0;return u&&(a.array[i]=u),a};St.prototype.removeAfter=function(e,r,n){if(n===(r?1<<r:0)||this.array.length===0)return this;var i=n-1>>>r&W;if(i>=this.array.length)return this;var s;if(r>0){var u=this.array[i];if(s=u&&u.removeAfter(e,r-M,n),s===u&&i===this.array.length-1)return this}var o=Ut(this,e);return o.array.splice(i+1),s&&(o.array[i]=s),o};var ie={};function ln(t,e){var r=t._origin,n=t._capacity,i=fe(n),s=t._tail;return u(t._root,t._level,0);function u(f,c,h){return c===0?o(f,h):a(f,c,h)}function o(f,c){var h=c===i?s&&s.array:f&&f.array,l=c>r?0:r-c,p=n-c;return p>et&&(p=et),function(){if(l===p)return ie;var d=e?--p:l++;return h&&h[d]}}function a(f,c,h){var l,p=f&&f.array,d=h>r?0:r-h>>c,_=(n-h>>c)+1;return _>et&&(_=et),function(){for(;;){if(l){var g=l();if(g!==ie)return g;l=null}if(d===_)return ie;var m=e?--_:d++;l=u(p&&p[m],c-M,h+(m<<c))}}}}function ae(t,e,r,n,i,s,u){var o=Object.create(N);return o.size=e-t,o._origin=t,o._capacity=e,o._level=r,o._root=n,o._tail=i,o.__ownerID=s,o.__hash=u,o.__altered=!1,o}var _n;function Oe(){return _n||(_n=ae(0,0,M))}function eu(t,e,r){if(e=Et(t,e),e!==e)return t;if(e>=t.size||e<0)return t.withMutations(function(u){e<0?mt(u,e).set(0,r):mt(u,0,e+1).set(e,r)});e+=t._origin;var n=t._tail,i=t._root,s=rr();return e>=fe(t._capacity)?n=ar(n,t.__ownerID,0,e,r,s):i=ar(i,t.__ownerID,t._level,e,r,s),s.value?t.__ownerID?(t._root=i,t._tail=n,t.__hash=void 0,t.__altered=!0,t):ae(t._origin,t._capacity,t._level,i,n):t}function ar(t,e,r,n,i,s){var u=n>>>r&W,o=t&&u<t.array.length;if(!o&&i===void 0)return t;var a;if(r>0){var f=t&&t.array[u],c=ar(f,e,r-M,n,i,s);return c===f?t:(a=Ut(t,e),a.array[u]=c,a)}return o&&t.array[u]===i?t:(s&&rt(s),a=Ut(t,e),i===void 0&&u===a.array.length-1?a.array.pop():a.array[u]=i,a)}function Ut(t,e){return e&&t&&e===t.ownerID?t:new St(t?t.array.slice():[],e)}function Si(t,e){if(e>=fe(t._capacity))return t._tail;if(e<1<<t._level+M){for(var r=t._root,n=t._level;r&&n>0;)r=r.array[e>>>n&W],n-=M;return r}}function mt(t,e,r){e!==void 0&&(e|=0),r!==void 0&&(r|=0);var n=t.__ownerID||new _r,i=t._origin,s=t._capacity,u=i+e,o=r===void 0?s:r<0?s+r:i+r;if(u===i&&o===s)return t;if(u>=o)return t.clear();for(var a=t._level,f=t._root,c=0;u+c<0;)f=new St(f&&f.array.length?[void 0,f]:[],n),a+=M,c+=1<<a;c&&(u+=c,i+=c,o+=c,s+=c);for(var h=fe(s),l=fe(o);l>=1<<a+M;)f=new St(f&&f.array.length?[f]:[],n),a+=M;var p=t._tail,d=l<h?Si(t,o-1):l>h?new St([],n):p;if(p&&l>h&&u<s&&p.array.length){f=Ut(f,n);for(var _=f,g=a;g>M;g-=M){var m=h>>>g&W;_=_.array[m]=Ut(_.array[m],n)}_.array[h>>>M&W]=p}if(o<s&&(d=d&&d.removeAfter(n,0,o)),u>=l)u-=l,o-=l,a=M,f=null,d=d&&d.removeBefore(n,0,u);else if(u>i||l<h){for(c=0;f;){var v=u>>>a&W;if(v!==l>>>a&W)break;v&&(c+=(1<<a)*v),a-=M,f=f.array[v]}f&&u>i&&(f=f.removeBefore(n,a,u-c)),f&&l<h&&(f=f.removeAfter(n,a,l-c)),c&&(u-=c,o-=c)}return t.__ownerID?(t.size=o-u,t._origin=u,t._capacity=o,t._level=a,t._root=f,t._tail=d,t.__hash=void 0,t.__altered=!0,t):ae(u,o,a,f,d)}function fe(t){return t<et?0:t-1>>>M<<M}var yt=function(t){function e(r){return r==null?te():Xn(r)?r:te().withMutations(function(n){var i=it(r);X(i.size),i.forEach(function(s,u){return n.set(u,s)})})}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.of=function(){return this(arguments)},e.prototype.toString=function(){return this.__toString("OrderedMap {","}")},e.prototype.get=function(n,i){var s=this._map.get(n);return s!==void 0?this._list.get(s)[1]:i},e.prototype.clear=function(){return this.size===0?this:this.__ownerID?(this.size=0,this._map.clear(),this._list.clear(),this.__altered=!0,this):te()},e.prototype.set=function(n,i){return dn(this,n,i)},e.prototype.remove=function(n){return dn(this,n,S)},e.prototype.__iterate=function(n,i){var s=this;return this._list.__iterate(function(u){return u&&n(u[1],u[0],s)},i)},e.prototype.__iterator=function(n,i){return this._list.fromEntrySeq().__iterator(n,i)},e.prototype.__ensureOwner=function(n){if(n===this.__ownerID)return this;var i=this._map.__ensureOwner(n),s=this._list.__ensureOwner(n);return n?Nr(i,s,n,this.__hash):this.size===0?te():(this.__ownerID=n,this.__altered=!1,this._map=i,this._list=s,this)},e}(Ot);yt.isOrderedMap=Xn;yt.prototype[Gt]=!0;yt.prototype[_e]=yt.prototype.remove;function Nr(t,e,r,n){var i=Object.create(yt.prototype);return i.size=t?t.size:0,i._map=t,i._list=e,i.__ownerID=r,i.__hash=n,i.__altered=!1,i}var pn;function te(){return pn||(pn=Nr(ut(),Oe()))}function dn(t,e,r){var n=t._map,i=t._list,s=n.get(e),u=s!==void 0,o,a;if(r===S){if(!u)return t;i.size>=et&&i.size>=n.size*2?(a=i.filter(function(f,c){return f!==void 0&&s!==c}),o=a.toKeyedSeq().map(function(f){return f[0]}).flip().toMap(),t.__ownerID&&(o.__ownerID=a.__ownerID=t.__ownerID)):(o=n.remove(e),a=s===i.size-1?i.pop():i.set(s,void 0))}else if(u){if(r===i.get(s)[1])return t;o=n,a=i.set(s,[e,r])}else o=n.set(e,i.size),a=i.set(i.size,[e,r]);return t.__ownerID?(t.size=o.size,t._map=o,t._list=a,t.__hash=void 0,t.__altered=!0,t):Nr(o,a)}var $i="@@__IMMUTABLE_STACK__@@";function fr(t){return!!(t&&t[$i])}var kr=function(t){function e(r){return r==null?Ee():fr(r)?r:Ee().pushAll(r)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.of=function(){return this(arguments)},e.prototype.toString=function(){return this.__toString("Stack [","]")},e.prototype.get=function(n,i){var s=this._head;for(n=Et(this,n);s&&n--;)s=s.next;return s?s.value:i},e.prototype.peek=function(){return this._head&&this._head.value},e.prototype.push=function(){var n=arguments;if(arguments.length===0)return this;for(var i=this.size+arguments.length,s=this._head,u=arguments.length-1;u>=0;u--)s={value:n[u],next:s};return this.__ownerID?(this.size=i,this._head=s,this.__hash=void 0,this.__altered=!0,this):ee(i,s)},e.prototype.pushAll=function(n){if(n=t(n),n.size===0)return this;if(this.size===0&&fr(n))return n;X(n.size);var i=this.size,s=this._head;return n.__iterate(function(u){i++,s={value:u,next:s}},!0),this.__ownerID?(this.size=i,this._head=s,this.__hash=void 0,this.__altered=!0,this):ee(i,s)},e.prototype.pop=function(){return this.slice(1)},e.prototype.clear=function(){return this.size===0?this:this.__ownerID?(this.size=0,this._head=void 0,this.__hash=void 0,this.__altered=!0,this):Ee()},e.prototype.slice=function(n,i){if(je(n,i,this.size))return this;var s=pe(n,this.size),u=Ne(i,this.size);if(u!==this.size)return t.prototype.slice.call(this,n,i);for(var o=this.size-s,a=this._head;s--;)a=a.next;return this.__ownerID?(this.size=o,this._head=a,this.__hash=void 0,this.__altered=!0,this):ee(o,a)},e.prototype.__ensureOwner=function(n){return n===this.__ownerID?this:n?ee(this.size,this._head,n,this.__hash):this.size===0?Ee():(this.__ownerID=n,this.__altered=!1,this)},e.prototype.__iterate=function(n,i){var s=this;if(i)return new It(this.toArray()).__iterate(function(a,f){return n(a,f,s)},i);for(var u=0,o=this._head;o&&n(o.value,u++,this)!==!1;)o=o.next;return u},e.prototype.__iterator=function(n,i){if(i)return new It(this.toArray()).__iterator(n,i);var s=0,u=this._head;return new $(function(){if(u){var o=u.value;return u=u.next,q(n,s++,o)}return J()})},e}(qt);kr.isStack=fr;var Y=kr.prototype;Y[$i]=!0;Y.shift=Y.pop;Y.unshift=Y.push;Y.unshiftAll=Y.pushAll;Y.withMutations=ve;Y.wasAltered=Tr;Y.asImmutable=ge;Y["@@transducer/init"]=Y.asMutable=ye;Y["@@transducer/step"]=function(t,e){return t.unshift(e)};Y["@@transducer/result"]=function(t){return t.asImmutable()};function ee(t,e,r,n){var i=Object.create(Y);return i.size=t,i._head=e,i.__ownerID=r,i.__hash=n,i.__altered=!1,i}var vn;function Ee(){return vn||(vn=ee(0))}var Ei="@@__IMMUTABLE_SET__@@";function xr(t){return!!(t&&t[Ei])}function bi(t){return xr(t)&&ot(t)}function Oi(t,e){if(t===e)return!0;if(!G(e)||t.size!==void 0&&e.size!==void 0&&t.size!==e.size||t.__hash!==void 0&&e.__hash!==void 0&&t.__hash!==e.__hash||C(t)!==C(e)||H(t)!==H(e)||ot(t)!==ot(e))return!1;if(t.size===0&&e.size===0)return!0;var r=!ke(t);if(ot(t)){var n=t.entries();return e.every(function(a,f){var c=n.next().value;return c&&Z(c[1],a)&&(r||Z(c[0],f))})&&n.next().done}var i=!1;if(t.size===void 0)if(e.size===void 0)typeof t.cacheResult=="function"&&t.cacheResult();else{i=!0;var s=t;t=e,e=s}var u=!0,o=e.__iterate(function(a,f){if(r?!t.has(a):i?!Z(a,t.get(f,S)):!Z(t.get(f,S),a))return u=!1,!1});return u&&t.size===o}function Rt(t,e){var r=function(n){t.prototype[n]=e[n]};return Object.keys(e).forEach(r),Object.getOwnPropertySymbols&&Object.getOwnPropertySymbols(e).forEach(r),t}function Te(t){if(!t||typeof t!="object")return t;if(!G(t)){if(!bt(t))return t;t=tt(t)}if(C(t)){var e={};return t.__iterate(function(n,i){e[i]=Te(n)}),e}var r=[];return t.__iterate(function(n){r.push(Te(n))}),r}var Fe=function(t){function e(r){return r==null?re():xr(r)&&!ot(r)?r:re().withMutations(function(n){var i=t(r);X(i.size),i.forEach(function(s){return n.add(s)})})}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.of=function(){return this(arguments)},e.fromKeys=function(n){return this(it(n).keySeq())},e.intersect=function(n){return n=L(n).toArray(),n.length?B.intersect.apply(e(n.pop()),n):re()},e.union=function(n){return n=L(n).toArray(),n.length?B.union.apply(e(n.pop()),n):re()},e.prototype.toString=function(){return this.__toString("Set {","}")},e.prototype.has=function(n){return this._map.has(n)},e.prototype.add=function(n){return be(this,this._map.set(n,n))},e.prototype.remove=function(n){return be(this,this._map.remove(n))},e.prototype.clear=function(){return be(this,this._map.clear())},e.prototype.map=function(n,i){var s=this,u=!1,o=be(this,this._map.mapEntries(function(a){var f=a[1],c=n.call(i,f,f,s);return c!==f&&(u=!0),[c,c]},i));return u?o:this},e.prototype.union=function(){for(var n=[],i=arguments.length;i--;)n[i]=arguments[i];return n=n.filter(function(s){return s.size!==0}),n.length===0?this:this.size===0&&!this.__ownerID&&n.length===1?this.constructor(n[0]):this.withMutations(function(s){for(var u=0;u<n.length;u++)typeof n[u]=="string"?s.add(n[u]):t(n[u]).forEach(function(o){return s.add(o)})})},e.prototype.intersect=function(){for(var n=[],i=arguments.length;i--;)n[i]=arguments[i];if(n.length===0)return this;n=n.map(function(u){return t(u)});var s=[];return this.forEach(function(u){n.every(function(o){return o.includes(u)})||s.push(u)}),this.withMutations(function(u){s.forEach(function(o){u.remove(o)})})},e.prototype.subtract=function(){for(var n=[],i=arguments.length;i--;)n[i]=arguments[i];if(n.length===0)return this;n=n.map(function(u){return t(u)});var s=[];return this.forEach(function(u){n.some(function(o){return o.includes(u)})&&s.push(u)}),this.withMutations(function(u){s.forEach(function(o){u.remove(o)})})},e.prototype.sort=function(n){return ce(xt(this,n))},e.prototype.sortBy=function(n,i){return ce(xt(this,i,n))},e.prototype.wasAltered=function(){return this._map.wasAltered()},e.prototype.__iterate=function(n,i){var s=this;return this._map.__iterate(function(u){return n(u,u,s)},i)},e.prototype.__iterator=function(n,i){return this._map.__iterator(n,i)},e.prototype.__ensureOwner=function(n){if(n===this.__ownerID)return this;var i=this._map.__ensureOwner(n);return n?this.__make(i,n):this.size===0?this.__empty():(this.__ownerID=n,this._map=i,this)},e}(Yt);Fe.isSet=xr;var B=Fe.prototype;B[Ei]=!0;B[_e]=B.remove;B.merge=B.concat=B.union;B.withMutations=ve;B.asImmutable=ge;B["@@transducer/init"]=B.asMutable=ye;B["@@transducer/step"]=function(t,e){return t.add(e)};B["@@transducer/result"]=function(t){return t.asImmutable()};B.__empty=re;B.__make=Ai;function be(t,e){return t.__ownerID?(t.size=e.size,t._map=e,t):e===t._map?t:e.size===0?t.__empty():t.__make(e)}function Ai(t,e){var r=Object.create(B);return r.size=t?t.size:0,r._map=t,r.__ownerID=e,r}var yn;function re(){return yn||(yn=Ai(ut()))}var ru=function(t){function e(r,n,i){if(!(this instanceof e))return new e(r,n,i);if(br(i!==0,"Cannot step a Range by 0"),r=r||0,n===void 0&&(n=1/0),i=i===void 0?1:Math.abs(i),n<r&&(i=-i),this._start=r,this._end=n,this._step=i,this.size=Math.max(0,Math.ceil((n-r)/i-1)+1),this.size===0){if(Xe)return Xe;Xe=this}}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.toString=function(){return this.size===0?"Range []":"Range [ "+this._start+"..."+this._end+(this._step!==1?" by "+this._step:"")+" ]"},e.prototype.get=function(n,i){return this.has(n)?this._start+Et(this,n)*this._step:i},e.prototype.includes=function(n){var i=(n-this._start)/this._step;return i>=0&&i<this.size&&i===Math.floor(i)},e.prototype.slice=function(n,i){return je(n,i,this.size)?this:(n=pe(n,this.size),i=Ne(i,this.size),i<=n?new e(0,0):new e(this.get(n,this._end),this.get(i,this._end),this._step))},e.prototype.indexOf=function(n){var i=n-this._start;if(i%this._step===0){var s=i/this._step;if(s>=0&&s<this.size)return s}return-1},e.prototype.lastIndexOf=function(n){return this.indexOf(n)},e.prototype.__iterate=function(n,i){for(var s=this.size,u=this._step,o=i?this._start+(s-1)*u:this._start,a=0;a!==s&&n(o,i?s-++a:a++,this)!==!1;)o+=i?-u:u;return a},e.prototype.__iterator=function(n,i){var s=this.size,u=this._step,o=i?this._start+(s-1)*u:this._start,a=0;return new $(function(){if(a===s)return J();var f=o;return o+=i?-u:u,q(n,i?s-++a:a++,f)})},e.prototype.equals=function(n){return n instanceof e?this._start===n._start&&this._end===n._end&&this._step===n._step:Oi(this,n)},e}(ft),Xe;function zi(t,e,r){for(var n=ai(e),i=0;i!==n.length;)if(t=fi(t,n[i++],S),t===S)return r;return t}function Mi(t,e){return zi(this,t,e)}function nu(t,e){return zi(t,e,S)!==S}function iu(t){return nu(this,t)}function Ii(){X(this.size);var t={};return this.__iterate(function(e,r){t[r]=e}),t}L.isIterable=G;L.isKeyed=C;L.isIndexed=H;L.isAssociative=ke;L.isOrdered=ot;L.Iterator=$;Rt(L,{toArray:function(){X(this.size);var e=new Array(this.size||0),r=C(this),n=0;return this.__iterate(function(i,s){e[n++]=r?[s,i]:i}),e},toIndexedSeq:function(){return new Qn(this)},toJS:function(){return Te(this)},toKeyedSeq:function(){return new Ue(this,!0)},toMap:function(){return Ot(this.toKeyedSeq())},toObject:Ii,toOrderedMap:function(){return yt(this.toKeyedSeq())},toOrderedSet:function(){return ce(C(this)?this.valueSeq():this)},toSet:function(){return Fe(C(this)?this.valueSeq():this)},toSetSeq:function(){return new ti(this)},toSeq:function(){return H(this)?this.toIndexedSeq():C(this)?this.toKeyedSeq():this.toSetSeq()},toStack:function(){return kr(C(this)?this.valueSeq():this)},toList:function(){return Ke(C(this)?this.valueSeq():this)},toString:function(){return"[Collection]"},__toString:function(e,r){return this.size===0?e+r:e+" "+this.toSeq().map(this.__toStringMapper).join(", ")+" "+r},concat:function(){for(var e=[],r=arguments.length;r--;)e[r]=arguments[r];return E(this,Ls(this,e))},includes:function(e){return this.some(function(r){return Z(r,e)})},entries:function(){return this.__iterator(nt)},every:function(e,r){X(this.size);var n=!0;return this.__iterate(function(i,s,u){if(!e.call(r,i,s,u))return n=!1,!1}),n},filter:function(e,r){return E(this,ii(this,e,r,!0))},partition:function(e,r){return Rs(this,e,r)},find:function(e,r,n){var i=this.findEntry(e,r);return i?i[1]:n},forEach:function(e,r){return X(this.size),this.__iterate(r?e.bind(r):e)},join:function(e){X(this.size),e=e!==void 0?""+e:",";var r="",n=!0;return this.__iterate(function(i){n?n=!1:r+=e,r+=i!=null?i.toString():""}),r},keys:function(){return this.__iterator(de)},map:function(e,r){return E(this,ni(this,e,r))},reduce:function(e,r,n){return gn(this,e,r,n,arguments.length<2,!1)},reduceRight:function(e,r,n){return gn(this,e,r,n,arguments.length<2,!0)},reverse:function(){return E(this,wr(this,!0))},slice:function(e,r){return E(this,Sr(this,e,r,!0))},some:function(e,r){X(this.size);var n=!1;return this.__iterate(function(i,s,u){if(e.call(r,i,s,u))return n=!0,!1}),n},sort:function(e){return E(this,xt(this,e))},values:function(){return this.__iterator(at)},butLast:function(){return this.slice(0,-1)},isEmpty:function(){return this.size!==void 0?this.size===0:!this.some(function(){return!0})},count:function(e,r){return kt(e?this.toSeq().filter(e,r):this)},countBy:function(e,r){return Cs(this,e,r)},equals:function(e){return Oi(this,e)},entrySeq:function(){var e=this;if(e._cache)return new It(e._cache);var r=e.toSeq().map(uu).toIndexedSeq();return r.fromEntrySeq=function(){return e.toSeq()},r},filterNot:function(e,r){return this.filter(Ze(e),r)},findEntry:function(e,r,n){var i=n;return this.__iterate(function(s,u,o){if(e.call(r,s,u,o))return i=[u,s],!1}),i},findKey:function(e,r){var n=this.findEntry(e,r);return n&&n[0]},findLast:function(e,r,n){return this.toKeyedSeq().reverse().find(e,r,n)},findLastEntry:function(e,r,n){return this.toKeyedSeq().reverse().findEntry(e,r,n)},findLastKey:function(e,r){return this.toKeyedSeq().reverse().findKey(e,r)},first:function(e){return this.find(kn,null,e)},flatMap:function(e,r){return E(this,Ps(this,e,r))},flatten:function(e){return E(this,ui(this,e,!0))},fromEntrySeq:function(){return new ei(this)},get:function(e,r){return this.find(function(n,i){return Z(i,e)},void 0,r)},getIn:Mi,groupBy:function(e,r){return qs(this,e,r)},has:function(e){return this.get(e,S)!==S},hasIn:iu,isSubset:function(e){return e=typeof e.includes=="function"?e:L(e),this.every(function(r){return e.includes(r)})},isSuperset:function(e){return e=typeof e.isSubset=="function"?e:L(e),e.isSubset(this)},keyOf:function(e){return this.findKey(function(r){return Z(r,e)})},keySeq:function(){return this.toSeq().map(su).toIndexedSeq()},last:function(e){return this.toSeq().reverse().first(e)},lastKeyOf:function(e){return this.toKeyedSeq().reverse().keyOf(e)},max:function(e){return Se(this,e)},maxBy:function(e,r){return Se(this,r,e)},min:function(e){return Se(this,e?mn(e):Sn)},minBy:function(e,r){return Se(this,r?mn(r):Sn,e)},rest:function(){return this.slice(1)},skip:function(e){return e===0?this:this.slice(Math.max(0,e))},skipLast:function(e){return e===0?this:this.slice(0,-Math.max(0,e))},skipWhile:function(e,r){return E(this,si(this,e,r,!0))},skipUntil:function(e,r){return this.skipWhile(Ze(e),r)},sortBy:function(e,r){return E(this,xt(this,r,e))},take:function(e){return this.slice(0,Math.max(0,e))},takeLast:function(e){return this.slice(-Math.max(0,e))},takeWhile:function(e,r){return E(this,Ts(this,e,r))},takeUntil:function(e,r){return this.takeWhile(Ze(e),r)},update:function(e){return e(this)},valueSeq:function(){return this.toIndexedSeq()},hashCode:function(){return this.__hash||(this.__hash=ou(this))}});var K=L.prototype;K[Bn]=!0;K[xe]=K.values;K.toJSON=K.toArray;K.__toStringMapper=se;K.inspect=K.toSource=function(){return this.toString()};K.chain=K.flatMap;K.contains=K.includes;Rt(it,{flip:function(){return E(this,ri(this))},mapEntries:function(e,r){var n=this,i=0;return E(this,this.toSeq().map(function(s,u){return e.call(r,[u,s],i++,n)}).fromEntrySeq())},mapKeys:function(e,r){var n=this;return E(this,this.toSeq().flip().map(function(i,s){return e.call(r,i,s,n)}).flip())}});var me=it.prototype;me[Un]=!0;me[xe]=K.entries;me.toJSON=Ii;me.__toStringMapper=function(t,e){return se(e)+": "+se(t)};Rt(qt,{toKeyedSeq:function(){return new Ue(this,!1)},filter:function(e,r){return E(this,ii(this,e,r,!1))},findIndex:function(e,r){var n=this.findEntry(e,r);return n?n[0]:-1},indexOf:function(e){var r=this.keyOf(e);return r===void 0?-1:r},lastIndexOf:function(e){var r=this.lastKeyOf(e);return r===void 0?-1:r},reverse:function(){return E(this,wr(this,!1))},slice:function(e,r){return E(this,Sr(this,e,r,!1))},splice:function(e,r){var n=arguments.length;if(r=Math.max(r||0,0),n===0||n===2&&!r)return this;e=pe(e,e<0?this.count():this.size);var i=this.slice(0,e);return E(this,n===1?i:i.concat(ct(arguments,2),this.slice(e+r)))},findLastIndex:function(e,r){var n=this.findLastEntry(e,r);return n?n[0]:-1},first:function(e){return this.get(0,e)},flatten:function(e){return E(this,ui(this,e,!1))},get:function(e,r){return e=Et(this,e),e<0||this.size===1/0||this.size!==void 0&&e>this.size?r:this.find(function(n,i){return i===e},void 0,r)},has:function(e){return e=Et(this,e),e>=0&&(this.size!==void 0?this.size===1/0||e<this.size:this.indexOf(e)!==-1)},interpose:function(e){return E(this,js(this,e))},interleave:function(){var e=[this].concat(ct(arguments)),r=$e(this.toSeq(),ft.of,e),n=r.flatten(!0);return r.size&&(n.size=r.size*e.length),E(this,n)},keySeq:function(){return ru(0,this.size)},last:function(e){return this.get(-1,e)},skipWhile:function(e,r){return E(this,si(this,e,r,!1))},zip:function(){var e=[this].concat(ct(arguments));return E(this,$e(this,wn,e))},zipAll:function(){var e=[this].concat(ct(arguments));return E(this,$e(this,wn,e,!0))},zipWith:function(e){var r=ct(arguments);return r[0]=this,E(this,$e(this,e,r))}});var Zt=qt.prototype;Zt[Kn]=!0;Zt[Gt]=!0;Rt(Yt,{get:function(e,r){return this.has(e)?e:r},includes:function(e){return this.has(e)},keySeq:function(){return this.valueSeq()}});var Kt=Yt.prototype;Kt.has=K.includes;Kt.contains=Kt.includes;Kt.keys=Kt.values;Rt(zt,me);Rt(ft,Zt);Rt(Vt,Kt);function gn(t,e,r,n,i,s){return X(t.size),t.__iterate(function(u,o,a){i?(i=!1,r=u):r=e.call(n,r,u,o,a)},s),r}function su(t,e){return e}function uu(t,e){return[e,t]}function Ze(t){return function(){return!t.apply(this,arguments)}}function mn(t){return function(){return-t.apply(this,arguments)}}function wn(){return ct(arguments)}function Sn(t,e){return t<e?1:t>e?-1:0}function ou(t){if(t.size===1/0)return 0;var e=ot(t),r=C(t),n=e?1:0,i=t.__iterate(r?e?function(s,u){n=31*n+$n(V(s),V(u))|0}:function(s,u){n=n+$n(V(s),V(u))|0}:e?function(s){n=31*n+V(s)|0}:function(s){n=n+V(s)|0});return au(i,n)}function au(t,e){return e=Qt(e,3432918353),e=Qt(e<<15|e>>>-15,461845907),e=Qt(e<<13|e>>>-13,5),e=(e+3864292196|0)^t,e=Qt(e^e>>>16,2246822507),e=Qt(e^e>>>13,3266489909),e=Be(e^e>>>16),e}function $n(t,e){return t^e+2654435769+(t<<6)+(t>>2)|0}var ce=function(t){function e(r){return r==null?cr():bi(r)?r:cr().withMutations(function(n){var i=Yt(r);X(i.size),i.forEach(function(s){return n.add(s)})})}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.of=function(){return this(arguments)},e.fromKeys=function(n){return this(it(n).keySeq())},e.prototype.toString=function(){return this.__toString("OrderedSet {","}")},e}(Fe);ce.isOrderedSet=bi;var Tt=ce.prototype;Tt[Gt]=!0;Tt.zip=Zt.zip;Tt.zipWith=Zt.zipWith;Tt.zipAll=Zt.zipAll;Tt.__empty=cr;Tt.__make=Ci;function Ci(t,e){var r=Object.create(Tt);return r.size=t?t.size:0,r._map=t,r.__ownerID=e,r}var En;function cr(){return En||(En=Ci(te()))}function fu(t){if(Ht(t))throw new Error("Can not call `Record` with an immutable Record as default values. Use a plain javascript object instead.");if(_t(t))throw new Error("Can not call `Record` with an immutable Collection as default values. Use a plain javascript object instead.");if(t===null||typeof t!="object")throw new Error("Can not call `Record` with a non-object as default values. Use a plain javascript object instead.")}var D=function(e,r){var n;fu(e);var i=function(o){var a=this;if(o instanceof i)return o;if(!(this instanceof i))return new i(o);if(!n){n=!0;var f=Object.keys(e),c=s._indices={};s._name=r,s._keys=f,s._defaultValues=e;for(var h=0;h<f.length;h++){var l=f[h];c[l]=h,s[l]?typeof console=="object"&&console.warn&&console.warn("Cannot define "+Br(this)+' with property "'+l+'" since that property name is part of the Record API.'):cu(s,l)}}return this.__ownerID=void 0,this._values=Ke().withMutations(function(p){p.setSize(a._keys.length),it(o).forEach(function(d,_){p.set(a._indices[_],d===a._defaultValues[_]?void 0:d)})}),this},s=i.prototype=Object.create(A);return s.constructor=i,r&&(i.displayName=r),i};D.prototype.toString=function(){for(var e=Br(this)+" { ",r=this._keys,n,i=0,s=r.length;i!==s;i++)n=r[i],e+=(i?", ":"")+n+": "+se(this.get(n));return e+" }"};D.prototype.equals=function(e){return this===e||Ht(e)&&Ft(this).equals(Ft(e))};D.prototype.hashCode=function(){return Ft(this).hashCode()};D.prototype.has=function(e){return this._indices.hasOwnProperty(e)};D.prototype.get=function(e,r){if(!this.has(e))return r;var n=this._indices[e],i=this._values.get(n);return i===void 0?this._defaultValues[e]:i};D.prototype.set=function(e,r){if(this.has(e)){var n=this._values.set(this._indices[e],r===this._defaultValues[e]?void 0:r);if(n!==this._values&&!this.__ownerID)return Dr(this,n)}return this};D.prototype.remove=function(e){return this.set(e)};D.prototype.clear=function(){var e=this._values.clear().setSize(this._keys.length);return this.__ownerID?this:Dr(this,e)};D.prototype.wasAltered=function(){return this._values.wasAltered()};D.prototype.toSeq=function(){return Ft(this)};D.prototype.toJS=function(){return Te(this)};D.prototype.entries=function(){return this.__iterator(nt)};D.prototype.__iterator=function(e,r){return Ft(this).__iterator(e,r)};D.prototype.__iterate=function(e,r){return Ft(this).__iterate(e,r)};D.prototype.__ensureOwner=function(e){if(e===this.__ownerID)return this;var r=this._values.__ensureOwner(e);return e?Dr(this,r,e):(this.__ownerID=e,this._values=r,this)};D.isRecord=Ht;D.getDescriptiveName=Br;var A=D.prototype;A[Wn]=!0;A[_e]=A.remove;A.deleteIn=A.removeIn=Ar;A.getIn=Mi;A.hasIn=K.hasIn;A.merge=li;A.mergeWith=_i;A.mergeIn=qr;A.mergeDeep=di;A.mergeDeepWith=vi;A.mergeDeepIn=Rr;A.setIn=Or;A.update=zr;A.updateIn=Mr;A.withMutations=ve;A.asMutable=ye;A.asImmutable=ge;A[xe]=A.entries;A.toJSON=A.toObject=K.toObject;A.inspect=A.toSource=function(){return this.toString()};function Dr(t,e,r){var n=Object.create(Object.getPrototypeOf(t));return n._values=e,n.__ownerID=r,n}function Br(t){return t.constructor.displayName||t.constructor.name||"Record"}function Ft(t){return yr(t._keys.map(function(e){return[e,t.get(e)]}))}function cu(t,e){try{Object.defineProperty(t,e,{get:function(){return this.get(e)},set:function(r){br(this.__ownerID,"Cannot set on an immutable record."),this.set(e,r)}})}catch{}}let wt=function(t){return t.Investigator="Investigator",t.Cultist="Cultist",t}({}),P=function(t){return t.Rune="Rune",t.ElderSign="Elder Sign",t.Cthulhu="Cthulhu",t}({});function hu(t){const[e,r]=k(null),[n,i]=k([]);return{name:t,team:e,setTeam:r,Cards:{get:n,add(u){i([...n(),u])},pop(u){const o=n()[u];return i(n().filter((a,f)=>u!==f)),o},clear(){i([])}}}}const qi=ji();function lu(t){const[e,r]=k([]),n=()=>e().length,[i,s]=k(0),[u,o]=k(0),[a,f]=k(null),[c,h]=k(1),[l,p]=k(Ot({[P.Rune]:0,[P.ElderSign]:0,[P.Cthulhu]:0}));function d(){let v=[];e().forEach(st=>{v=v.concat(st.Cards.get()),st.Cards.clear()});let z=1,T=n()-l().get(P.ElderSign),b=n()*4-1-l().get(P.Rune),F=()=>z+T+b;e().forEach(st=>{for(var gt=0;gt<5-c();gt++){const We=Math.random()*F();We>b+T?(z-=1,st.Cards.add(P.Cthulhu)):We>b?(T-=1,st.Cards.add(P.ElderSign)):(b-=1,st.Cards.add(P.Rune))}})}const m={Players:{get:e,count(){return e().length},add(v){r([...e(),hu(v)])},remove(v){r(e().filter((z,T)=>v!==T))},active(){return a()===null?null:e()[a()]},setActive:f},investigatorCount:i,setInvestigatorCount:s,cultistCount:u,setCultistCount:o,initialise:()=>{let v=i(),z=u(),T=1,b=n(),F=n()*4-1,st=()=>T+b+F;e().forEach(gt=>{Math.random()*(v+z)>v?(z-=1,gt.setTeam(wt.Cultist)):(v-=1,gt.setTeam(wt.Investigator));for(var Ur=0;Ur<5;Ur++){const Kr=Math.random()*st();Kr>F+b?(T-=1,gt.Cards.add(P.Cthulhu)):Kr>F?(b-=1,gt.Cards.add(P.ElderSign)):(F-=1,gt.Cards.add(P.Rune))}f(Math.floor(Math.random()*n()))})},reset:()=>{e().forEach(v=>{v.setTeam(null),v.Cards.clear()}),f(null),h(1),p(Ot({[P.Rune]:0,[P.ElderSign]:0,[P.Cthulhu]:0}))},Round:{current:c,next(){d(),h(c()+1)}},Revealed:{cthulhu(){return l().get(P.Cthulhu)},runes(){return l().get(P.Rune)},elderSigns(){return l().get(P.ElderSign)},add(v){p(l().update(v,z=>z+1))}}};return R(qi.Provider,{value:m,get children(){return t.children}})}function Ct(){return Cn(qi)}var _u=y("<h2>Character Pool"),pu=y("<div style=margin-top:var(--size-3)><label for=investigators>Investigators: "),du=y("<div style=margin-top:var(--size-3)><label for=cultists>Cultists: ");const vu=new Map([[4,[3,2]],[5,[4,2]],[6,[4,2]],[7,[5,3]],[8,[6,3]]]),yu=()=>{const{Players:t,investigatorCount:e,setInvestigatorCount:r,cultistCount:n,setCultistCount:i}=Ct(),s=()=>Math.max(1,t.count());return Mn(()=>{let u=t.count();if(u<4)return;const[o,a]=vu.get(u)||[u,u];r(o),i(a)}),[_u(),(()=>{var u=pu(),o=u.firstChild;return o.firstChild,w(o,e,null),u})(),R(Xr,{id:"investigators",get value(){return e()},min:0,get max(){return s()},get disabled(){return s()<4},bind:r}),(()=>{var u=du(),o=u.firstChild;return o.firstChild,w(o,n,null),u})(),R(Xr,{id:"cultists",get value(){return n()},min:0,get max(){return s()},get disabled(){return s()<4},bind:i})]};var gu=y("<h1>Don't Mess With Cthulhu!"),mu=y('<p style=margin-bottom:var(--size-4)>This is an "offline" version where the game is played on a single device.'),wu=y("<h3 style=margin-top:var(--size-4)>Players"),Su=y("<div class=player-list>"),$u=y("<p style=color:red><strong>Need <!> more player"),Eu=y("<p style=color:red><strong>Not enough investigators and cultists"),bu=y("<h4 style=margin-top:var(--size-7);margin-bottom:var(--size-2)>Add Players"),Ou=y("<input id=name type=text>"),Au=y("<button>Add"),zu=y("<button class=green style=margin-top:var(--size-1)>Start"),Mu=y("<div style=font-size:1.5rem>. "),Iu=y("<div><button>Remove");const Cu=t=>{const{Players:e,investigatorCount:r,cultistCount:n,initialise:i}=Ct();function s(){i(),t.setStage(Q.Reveal)}let u;function o(){let f=u.value;if(!f){alert("Enter a name to add!");return}if(e.get().map(c=>c.name).indexOf(f)>-1){alert(`${f} has already been added!`);return}e.add(f),u.value=""}function a(f){e.remove(f)}return[gu(),mu(),R(yu,{}),wu(),R(ht,{get when(){return e.get().length>0},get children(){var f=Su();return w(f,R(jt,{get each(){return e.get()},children:(c,h)=>[(()=>{var l=Mu(),p=l.firstChild;return w(l,()=>h()+1,p),w(l,()=>c.name,null),l})(),(()=>{var l=Iu(),p=l.firstChild;return p.$$click=()=>a(h()),l})()]})),f}}),R(ht,{get when(){return e.count()<4},get children(){var f=$u(),c=f.firstChild,h=c.firstChild,l=h.nextSibling;return l.nextSibling,w(c,()=>4-e.count(),l),w(c,()=>4-e.count()!==1?"s":"",null),f}}),R(ht,{get when(){return $t(()=>e.count()>=4)()&&r()+n()<e.count()},get children(){return Eu()}}),bu(),(()=>{var f=Ou();f.$$keydown=h=>{h.key==="Enter"&&o()};var c=u;return typeof c=="function"?Nn(c,f):u=f,f})(),(()=>{var f=Au();return f.$$click=()=>o(),f})(),(()=>{var f=zu();return f.$$click=()=>s(),x(()=>f.disabled=e.count()<4),f})()]};Wt(["keydown","click"]);const Ri=window.location.search.indexOf("debug")>0;function hr(t){return t.toLowerCase().replaceAll(" ","-")}var qu=y("<h1>ROUND "),Ru=y("<p>Please pass the device to"),Tu=y("<h2>"),Lu=y("<button>Reveal"),Pu=y("<div class=flex-centered><p>You are <!>a<!> </p><h2></h2><p>Your cards are</p><div class=reveal-card-list>"),ju=y("<button>Next"),Nu=y("<button>SKIP"),ku=y("<strong>"),xu=y("<button>Play");const Du=t=>{const{Players:e,Round:r}=Ct(),[n,i]=k(0),[s,u]=k(!1),o=()=>e.get()[n()],a=()=>o().team()===wt.Investigator?"n":"";function f(){u(!1),i(n()+1)}function c(){t.setStage(Q.Round)}const h=()=>{const l=r.current();return l===2?"(still) ":l===3?"(still?!?!) ":""};return[(()=>{var l=qu();return l.firstChild,w(l,()=>r.current(),null),l})(),(()=>{var l=Ru();return x(p=>jn(l,s()?"visibility: hidden":"",p)),l})(),(()=>{var l=Tu();return w(l,()=>o().name),l})(),(()=>{var l=Lu();return l.$$click=()=>u(!0),x(()=>l.disabled=s()),l})(),(()=>{var l=Pu(),p=l.firstChild,d=p.firstChild,_=d.nextSibling,g=_.nextSibling,m=g.nextSibling;m.nextSibling;var v=p.nextSibling,z=v.nextSibling,T=z.nextSibling;return w(p,h,_),w(p,a,m),w(v,()=>o().team()),w(T,R(jt,{get each(){return o().Cards.get()},children:b=>(()=>{var F=ku();return w(F,b),x(()=>qe(F,hr(b))),F})()})),x(b=>{var F=!s(),st=hr(o().team());return F!==b.e&&l.classList.toggle("hidden",b.e=F),st!==b.t&&qe(v,b.t=st),b},{e:void 0,t:void 0}),l})(),R(ht,{get when(){return n()<e.count()-1},get fallback(){return(()=>{var l=xu();return l.$$click=()=>c(),x(()=>l.disabled=!s()),l})()},get children(){var l=ju();return l.$$click=()=>f(),x(()=>l.disabled=!s()),l}}),R(ht,{when:Ri,get children(){var l=Nu();return l.$$click=()=>c(),l}})]};Wt(["click"]);var Bu=!!Gi,Uu=Bu?t=>In()?Me(t):t:Me;function Ku(t,e,r,n){return t.addEventListener(e,r,n),Uu(t.removeEventListener.bind(t,e,r,n))}function Fu(t,e=In()){let r=0,n,i;return()=>(r++,Me(()=>{r--,queueMicrotask(()=>{!r&&i&&(i(),i=n=void 0)})}),i||ne(s=>n=t(i=s),e),n)}var Wu=Fu(()=>{const[t,e]=k(null);return Ku(window,"keydown",r=>{e(r),setTimeout(()=>e(null))}),t}),Yu=y("<h1>Round "),Hu=y("<h2>Turn <!> of "),Gu=y("<strong>Revealed cards"),Ju=y("<div class=card-list><div>Runes</div><div></div><div>Elder Signs</div><div>"),Vu=y("<p> "),Xu=y("<h2><strong></strong>'s turn"),Zu=y("<div class=modal><p>You </p><button>OK"),Qu=y("<strong>'s hand"),to=y("<div class=card-row>"),eo=y("<button class=card-small>?");const bn=["found","discovered","unearthed"],ro=t=>{const{Players:e,Round:r,Revealed:n}=Ct(),[i,s]=k(["",""]),[u,o]=k(1),[a,f]=k(!1);let c=null,h=null;const l=Wu();function p(_,g){const m=Math.floor(Math.random()*_.Cards.get().length),v=_.Cards.pop(m);n.add(v);const z=v===P.Cthulhu?"":"a",T=v===P.ElderSign?"n":"",b=bn[Math.floor(Math.random()*bn.length)];s([_.name,`${b} ${z}${T} ${v}!`]),f(!0),c=v,h=g}function d(){if(c===P.Cthulhu||n.elderSigns()===e.count()){t.setStage(Q.End);return}e.setActive(h),o(u()+1),u()===e.count()+1&&(r.next(),r.current()>4?t.setStage(Q.End):t.setStage(Q.Reveal)),f(!1)}return Mn(()=>{if(!a())return;const _=l();_!==null&&_.key==="Enter"&&d()}),[(()=>{var _=Yu();return _.firstChild,w(_,()=>r.current(),null),_})(),(()=>{var _=Hu(),g=_.firstChild,m=g.nextSibling;return m.nextSibling,w(_,u,m),w(_,()=>e.count(),null),_})(),Gu(),(()=>{var _=Ju(),g=_.firstChild,m=g.nextSibling,v=m.nextSibling,z=v.nextSibling;return w(m,()=>n.runes()),w(z,()=>n.elderSigns()),_})(),(()=>{var _=Vu(),g=_.firstChild;return w(_,()=>i()[0],g),w(_,()=>i()[1],null),_})(),(()=>{var _=Xu(),g=_.firstChild;return w(g,()=>e.active().name),_})(),R(jt,{get each(){return e.get()},children:(_,g)=>[(()=>{var m=Qu(),v=m.firstChild;return w(m,()=>_.name,v),m})(),(()=>{var m=to();return w(m,R(jt,{get each(){return _.Cards.get()},children:()=>(()=>{var v=eo();return v.$$click=()=>p(_,g()),x(()=>v.disabled=_.name===e.active().name||a()),v})()})),m})()]}),R(ht,{get when(){return a()},get children(){var _=Zu(),g=_.firstChild;g.firstChild;var m=g.nextSibling;return w(g,()=>i()[1],null),m.$$click=()=>d(),_}})]};Wt(["click"]);var no=y("<p>No winner...? That's not supposed to happen..."),io=y("<h1>s win!"),so=y("<h2>"),uo=y("<h3 class=investigator style=margin-top:1em>Investigators"),oo=y("<h3 class=cultist style=margin-top:1em>Cultists"),On=y("<strong>");const ao=t=>{const[e,r]=k("???"),{Players:n,Revealed:i,Round:s}=Ct(),u=n.get().filter(c=>c.team()===wt.Investigator),o=n.get().filter(c=>c.team()===wt.Cultist),a=i.cthulhu()?(r("Cthulhu has been unleashed!"),wt.Cultist):s.current()>4?(r("The investigators ran out of time!"),wt.Cultist):i.elderSigns()===n.count()?(r("All the Elder Signs were revealed!"),wt.Investigator):null,f=no();return[R(ht,{when:a!==null,fallback:f,get children(){return[(()=>{var c=io(),h=c.firstChild;return w(c,a,h),x(()=>qe(c,hr(a))),c})(),(()=>{var c=so();return w(c,e),c})()]}}),uo(),R(jt,{each:u,children:c=>(()=>{var h=On();return w(h,()=>c.name),h})()}),oo(),R(jt,{each:o,children:c=>(()=>{var h=On();return w(h,()=>c.name),h})()})]};let Q=function(t){return t[t.End=0]="End",t[t.Lobby=1]="Lobby",t[t.Reveal=2]="Reveal",t[t.Round=3]="Round",t}({});const fo=new Map([[Q.End,ao],[Q.Lobby,Cu],[Q.Reveal,Du],[Q.Round,ro]]);var co=y("<button style=margin-top:var(--size-5)>Exit"),ho=y("<div class=modal><p>Really exit?</p><div><button style=margin-right:var(--size-2)>Cancel</button><button style=background-color:var(--red-9)>Exit"),lo=y("<pre>DEBUG"),_o=y("<pre>"),po=y("<main>");const vo=()=>{const{Players:t}=Ct(),{reset:e}=Ct(),[r,n]=k(Q.Lobby),[i,s]=k(!1);function u(){s(!1),n(Q.Lobby),e()}return(()=>{var o=po();return w(o,R(ds,{get component(){return fo.get(r())},setStage:n}),null),w(o,R(ht,{get when(){return r()!==Q.Lobby},get children(){var a=co();return a.$$click=()=>r()===Q.End?u():s(!0),a}}),null),w(o,R(ht,{get when(){return i()},get children(){var a=ho(),f=a.firstChild,c=f.nextSibling,h=c.firstChild,l=h.nextSibling;return h.$$click=()=>s(!1),l.$$click=()=>u(),a}}),null),w(o,R(ht,{when:Ri,get children(){return[lo(),(()=>{var a=_o();return w(a,()=>JSON.stringify(t.get().map(f=>({name:f.name,team:f.team(),cards:f.Cards.get()})),null,2)),a})()]}}),null),o})()};Wt(["click"]);const yo=document.getElementById("root");ss(()=>R(lu,{get children(){return R(vo,{})}}),yo);
